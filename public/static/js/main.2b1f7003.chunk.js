(this["webpackJsonpchatbot-wars"]=this["webpackJsonpchatbot-wars"]||[]).push([[0],{160:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),s=n(10),i=n(62),l=n(18),u=n(1);var j=n(197),d=n(203),b=n(63),h=n(9),x=n.n(h),p=n(14),m=n(7),O=n(78),f=n(112),g=n(204),v=n(248),y=n(242),w=n(209),k=n(210),C=n(199),N=n(202),S=n(162),T=n(201),B=n(211),W=n(250),M=n(212),F=n(213),A=n(104),E=n.n(A).a.create({baseURL:"/api"});E.interceptors.request.use((function(e){var t=localStorage.getItem("jwt_token");return e.headers.Authorization="Bearer ".concat(t),e}),(function(e){return Promise.reject(e)}));var L=["Happy","Angry","Sad"],R=E,z=n(241),H=Object(j.a)((function(e){return{container:{flexGrow:1,maxHeight:"100%"},line:{display:"flex"},name:{fontWeight:700}}}));function G(e){var t=e.transcript,n=e.scrollContainerRef,c=H(),o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=n.current;o.current&&e.scrollHeight-e.clientHeight-e.scrollTop<100&&o.current.scrollIntoView({behaviour:"smooth"})}),[t.length,n]),Object(u.jsx)(z.a,{className:c.container,children:Object(u.jsx)(C.a,{children:0===t.length?Object(u.jsx)(S.a,{children:Object(u.jsx)(T.a,{primary:"Waiting for messages..."})}):t.map((function(e,n){return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(S.a,{ref:n===t.length-1?o:null,children:Object(u.jsxs)(z.a,{className:"MuiListItemText-root MuiListItemText-multiline",children:[Object(u.jsxs)("p",{className:"MuiTypography-root MuiListItemText-primary MuiTypography-body1 MuiTypography-displayBlock",children:[Object(u.jsx)("strong",{children:e.name}),": ",e.line.text]}),Object(u.jsx)("p",{className:"MuiTypography-root MuiListItemText-secondary MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-displayBlock",children:L[e.line.mood]})]})}),n!==t.length-1&&Object(u.jsx)(N.a,{})]},n)}))})})}var D=Object(j.a)((function(e){return{container:{flexGrow:1,flexWrap:"nowrap",height:"100%",border:"1px solid #bbb"},sideBar:{borderRight:"1px solid grey",maxHeight:"100%",flexWrap:"nowrap",minWidth:160},select:{padding:10,borderBottom:"1px solid grey"},addButton:{marginTop:5},botListContainer:{flexGrow:1,display:"flex",flexDirection:"column",minHeight:0},botList:{maxHeight:"100%",overflow:"auto",minHeight:0},currentBotsTitle:{padding:10,textAlign:"center",opacity:.8,fontWeight:"bold",fontSize:20,borderBottom:"0.1px solid black"},notStartedContainer:{textAlign:"center",justifyContent:"center",alignContent:"center"},notStartedMsg:{textAlign:"center",fontSize:20},transcriptContainer:{overflow:"auto",maxHeight:"100%"}}})),I={ws:new WebSocket("wss://".concat(document.location.host,"/api/rooms")),active:!1,roomBots:[],transcript:[],remainingBots:[]};function P(e,t){switch(t.type){case"INIT":return Object(s.a)(Object(s.a)({},e),{},{remainingBots:t.bots});case"START_ROOM":return Object(s.a)(Object(s.a)({},e),{},{active:!0});case"ADD_BOT":var n=e.remainingBots.find((function(e){return e.id===t.id})),a=e.remainingBots.filter((function(e){return e.id!==t.id}));return Object(s.a)(Object(s.a)({},e),{},{roomBots:[].concat(Object(O.a)(e.roomBots),[n]),remainingBots:a});case"REMOVE_BOT":var r=e.roomBots.find((function(e){return e.id===t.id})),c=e.roomBots.filter((function(e){return e.id!==t.id}));return Object(s.a)(Object(s.a)({},e),{},{roomBots:c,remainingBots:[].concat(Object(O.a)(e.remainingBots),[r])});case"NEW_MESSAGE":return Object(s.a)(Object(s.a)({},e),{},{transcript:[].concat(Object(O.a)(e.transcript),[t.message])});default:throw new Error("unrecognized action type")}}function _(){var e=D(),t=Object(a.useRef)(null),n=Object(a.useState)(""),c=Object(m.a)(n,2),o=c[0],s=c[1],i=Object(a.useReducer)(P,I),l=Object(m.a)(i,2),j=l[0],h=l[1];Object(a.useEffect)((function(){(function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/bots");case 2:t=e.sent,h({type:"INIT",bots:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){j.ws.onmessage=function(e){h(JSON.parse(e.data))}}));var O=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.ws.send(JSON.stringify({type:"START_ROOM"})),h({type:"START_ROOM"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(d.a,{component:f.a,elevation:3,container:!0,item:!0,xs:12,className:e.container,children:[Object(u.jsxs)(d.a,{container:!0,direction:"column",item:!0,xs:3,className:e.sideBar,children:[Object(u.jsx)(d.a,{item:!0,className:e.select,children:Object(u.jsxs)(g.a,{variant:"outlined",fullWidth:!0,children:[Object(u.jsx)(v.a,{children:"Add a bot"}),Object(u.jsxs)(y.a,{variant:"outlined",label:"Add a bot",onChange:function(e){s(e.target.value)},value:o,children:[Object(u.jsx)(w.a,{value:"",children:Object(u.jsx)("em",{children:"None"})}),j.remainingBots.map((function(e,t){return Object(u.jsx)(w.a,{value:e.id,children:e.name},t)}))]}),Object(u.jsx)(k.a,{onClick:function(){if(""!==o){var e={type:"ADD_BOT",payload:o};j.ws.send(JSON.stringify(e)),s("")}},variant:"contained",color:"secondary",className:e.addButton,children:"Add"})]})}),Object(u.jsxs)(d.a,{item:!0,className:e.botListContainer,children:[Object(u.jsx)(b.a,{className:e.currentBotsTitle,children:"Current Bots"}),Object(u.jsx)(C.a,{className:e.botList,children:j.roomBots.map((function(e,t){return Object(u.jsxs)(r.a.Fragment,{children:[0!==t&&Object(u.jsx)(N.a,{}),Object(u.jsxs)(S.a,{children:[Object(u.jsx)(T.a,{primary:e.name}),Object(u.jsx)(B.a,{children:Object(u.jsx)(W.a,{title:"Remove",children:Object(u.jsx)(M.a,{onClick:function(){return t=e.id,void j.ws.send(JSON.stringify({type:"REMOVE_BOT",payload:t}));var t},edge:"end","aria-label":"remove",children:Object(u.jsx)(F.a,{})})})})]})]},t)}))})]})]}),Object(u.jsx)(d.a,{container:!0,item:!0,xs:9,className:e.transcriptContainer,ref:t,children:j.active?Object(u.jsx)(G,{transcript:j.transcript,scrollContainerRef:t}):Object(u.jsx)(d.a,{container:!0,className:e.notStartedContainer,item:!0,xs:12,children:Object(u.jsxs)(d.a,{item:!0,xs:12,children:[Object(u.jsx)("p",{className:e.notStartedMsg,children:"Start the room to see messages"}),Object(u.jsx)(k.a,{onClick:O,variant:"contained",color:"secondary",children:"Start"})]})})})]})}var q=Object(j.a)((function(e){return{container:{paddingTop:30,flexGrow:1,alignContent:"flex-start"},title:{fontSize:30,fontWeight:"bold"},fightZone:{flexGrow:1,padding:20,height:"80vh"}}}));var V=n(19),J=Object(j.a)((function(e){return{container:{display:"flex",flex:1,flexDirection:"column",textAlign:"center",justifyContent:"space-around"},title:{fontSize:40,fontWeight:"bolder",marginTop:30,marginBottom:50},feature:{marginTop:50,flexGrow:1},button:{margin:"0 30%",marginTop:20,marginBottom:200,fontSize:30,padding:"20px 40px"}}}));var U=n(59),Q=n(17),Z=n(245),K=n(217),Y=n(218),X=n(219),$=n(220),ee=n(251),te=n(221),ne=n(222),ae=Object(a.createContext)();function re(e){var t=e.children,n=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(m.a)(c,2),s=o[0],i=o[1];return Object(a.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==localStorage.getItem("jwt_token")){e.next=14;break}return e.prev=2,e.next=5,R.get("/me");case 5:t=e.sent,r(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:e.next=15;break;case 14:r(!1);case 15:i(!0);case 16:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}e()}),[]),{user:n,register:function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/users",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(p.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/sessions",{username:t,password:n});case 3:return a=e.sent,localStorage.setItem("jwt_token",a.data.token),r(a.data.user),e.abrupt("return",!0);case 9:throw e.prev=9,e.t0=e.catch(0),Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){localStorage.removeItem("jwt_token"),r((function(){return!1}))},loaded:s}}();return Object(u.jsx)(ae.Provider,{value:n,children:t})}var ce=function(){return Object(a.useContext)(ae)};var oe=n(214),se=n(215),ie=n(216),le=Object(j.a)((function(e){return{confirmButton:{backgroundColor:function(e){return e.color},"&:hover":{backgroundColor:function(e){return e.hoverColor}}}}}));function ue(e){var t=e.onConfirm,n=e.prompt,c=e.confirmText,o=e.render,s=le(e),i=Object(a.useState)(!1),l=Object(m.a)(i,2),j=l[0],d=l[1],b=function(){d(!1)};return Object(u.jsxs)(r.a.Fragment,{children:[o&&o((function(){d(!0)})),Object(u.jsxs)(oe.a,{onClose:b,open:j,children:[Object(u.jsx)(se.a,{children:n}),Object(u.jsxs)(ie.a,{style:{justifyContent:"center",marginBottom:10},children:[Object(u.jsx)(k.a,{autoFocus:!0,onClick:b,variant:"contained",color:"primary",children:"Cancel"}),Object(u.jsx)(k.a,{onClick:function(){t(),b()},variant:"contained",className:s.confirmButton,children:c})]})]})]})}var je=Object(j.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:e.palette.primary.dark},drawer:Object(U.a)({},e.breakpoints.up("md"),{width:240,flexShrink:0}),menuButton:Object(U.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),dividerColor:{backgroundColor:e.palette.primary.contrastText},appBarLeft:{width:240,flexShrink:1,fontSize:30,fontWeight:500},appBarRight:{textAlign:"right",flexGrow:1,paddingRight:20,fontSize:30},loginLink:{textDecoration:"none",color:e.palette.primary.contrastText,"&:hover":{color:e.palette.secondary.main}},logoutContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"Center"},logoutButton:{color:"white","&:hover":{color:e.palette.secondary.main}},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},drawerHeader:{flexDirection:"column",justifyContent:"center"},activeNav:{fontWeight:"bold",color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.main}},content:{paddingTop:e.layout.nav.appBarHeight,flexGrow:1,height:"100vh",display:"flex",flexDirection:"column",overflowX:"hidden"}}}));function de(e){var t=e.routes,n=e.children,c=ce(),o=c.user,s=c.logout,i=c.loaded,j=Object(Q.a)(),d=je(),h=Object(l.g)(),x=Object(a.useState)(!1),p=Object(m.a)(x,2),O=p[0],f=p[1];var g=Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(Z.a,{smDown:!0,implementation:"css",children:Object(u.jsx)(K.a,{})}),Object(u.jsx)(Z.a,{mdUp:!0,implementation:"css",children:Object(u.jsx)(K.a,{className:d.drawerHeader,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"Navigation"})})}),Object(u.jsx)(N.a,{variant:"fullWidth"}),Object(u.jsx)("div",{className:d.drawerContainer,children:Object(u.jsx)(C.a,{children:Object.values(t).map((function(e,t){return e.icon&&Object(u.jsxs)(S.a,{button:!0,exact:e.exact||!1,component:V.c,activeClassName:d.activeNav,to:e.path,children:[Object(u.jsx)(Y.a,{children:Object(u.jsx)(e.icon,{})}),Object(u.jsx)(T.a,{primary:e.name})]},t)}))})})]});return Object(u.jsxs)("div",{className:d.root,children:[Object(u.jsx)(X.a,{}),Object(u.jsx)($.a,{position:"fixed",className:d.appBar,children:Object(u.jsxs)(K.a,{disableGutters:!0,className:d.headerContainer,children:[Object(u.jsx)(M.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return f(!0)},className:d.menuButton,children:Object(u.jsx)(te.a,{})}),Object(u.jsx)(b.a,{className:d.appBarLeft,variant:"h4",align:"center",children:"Chatbot Wars"}),Object(u.jsx)("div",{className:d.appBarRight,children:o?Object(u.jsxs)("div",{className:d.logoutContainer,children:[Object(u.jsx)(Z.a,{xsDown:!0,implementation:"css",children:Object(u.jsxs)(b.a,{variant:"h5",children:["Hi, ",o.username]})}),Object(u.jsx)(ue,{render:function(e){return Object(u.jsx)(M.a,{onClick:e,className:d.logoutButton,children:Object(u.jsx)(ne.a,{})})},onConfirm:function(){s(),h.push("/")},prompt:"Are you sure you want to log out?",confirmText:"Logout",color:j.palette.secondary.main,hoverColor:j.palette.secondary.dark})]}):Object(u.jsx)(b.a,{component:V.c,to:"/login",variant:"h5",className:d.loginLink,children:i&&"Login"})})]})}),Object(u.jsxs)("nav",{className:d.drawer,"aria-label":"mailbox folders",children:[Object(u.jsx)(Z.a,{smUp:!0,implementation:"css",children:Object(u.jsx)(ee.a,{variant:"temporary",open:O,onClose:function(){return f(!1)},classes:{paper:d.drawerPaper},ModalProps:{keepMounted:!0},children:g})}),Object(u.jsx)(Z.a,{smDown:!0,implementation:"css",children:Object(u.jsx)(ee.a,{classes:{paper:d.drawerPaper},variant:"permanent",open:!0,children:g})})]}),Object(u.jsx)("main",{className:d.content,children:n})]})}var be=n(234),he=n(235),xe=n(236),pe=n(223),me=n(244),Oe=n(246);function fe(){return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)(d.a,{item:!0,container:!0,spacing:3,alignContent:"space-around",style:{textAlign:"center",height:"100%"},children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h6",children:"That's a good start."})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h6",children:"You can keep working on your bot anytime by going back to the workshop."})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h6",children:"Click 'To Glory' to send your bot to the battlefield!"})})]})})}var ge=n(252);function ve(e){var t,n=e.autoFocus,a=e.error,c=e.errorMessages,o=e.label,s=e.line,i=e.updateLine;return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:9,children:Object(u.jsx)(g.a,{fullWidth:!0,children:Object(u.jsx)(ge.a,{autoFocus:n||!1,value:s.text,error:a,helperText:(t=c,t.join("\n")),label:o,variant:"outlined",onChange:function(e){i({text:e.target.value})}})})}),Object(u.jsx)(d.a,{item:!0,xs:3,children:Object(u.jsxs)(g.a,{variant:"outlined",fullWidth:!0,children:[Object(u.jsx)(v.a,{children:"Mood"}),Object(u.jsx)(y.a,{variant:"outlined",label:"Mood",onChange:function(e){i({mood:e.target.value})},value:s.mood,children:L.map((function(e,t){return Object(u.jsx)(w.a,{value:t,children:e},t)}))})]})})]})}function ye(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=Object(a.useState)(t[0]),i=Object(m.a)(s,2),l=i[0],j=i[1],h=Object(a.useState)(!1),x=Object(m.a)(h,2),p=x[0],O=x[1],f=Object(a.useState)([]),g=Object(m.a)(f,2),v=g[0],y=g[1],w=Object(a.useCallback)((function(){var e=[],t=l.text.length>0;return t||(O(!0),e.push("Greeting must be non-empty")),y(e),n([l]),t}),[l,n]);Object(a.useEffect)((function(){c(w)}),[c,w]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"What's your bot gonna say prior to embarassing your foes?"})}),Object(u.jsx)(ve,{autoFocus:!0,error:p,errorMessages:v,label:"Greeting",line:l,updateLine:function(e){var t=e.text,n=e.mood;j({text:void 0!==t?t:l.text,mood:void 0!==n?n:l.mood})}})]})}function we(e,t){var n=Object(a.useState)(e),r=Object(m.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),c}var ke=Object(j.a)((function(e){return{valid:{"& label.MuiInputLabel-formControl":{color:"green"},"& p.MuiFormHelperText-root":{color:"green"},"& input + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:focus + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:hover + fieldset":{borderColor:"green",borderWidth:2}}}}));function Ce(e){return e.length>=3&&e.length<=30}function Ne(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=ke(),i=Object(a.useState)(t),l=Object(m.a)(i,2),j=l[0],h=l[1],O=Object(a.useState)(""),f=Object(m.a)(O,2),v=f[0],y=f[1],w=Object(a.useCallback)(Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ce(j)){e.next=3;break}return y("Name must be between 3 and 30 characters"),e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,R.get("/unique/bots/".concat(j));case 6:if(e.sent.data.valid){e.next=12;break}return y("That bot name is taken"),e.abrupt("return",!1);case 12:y(""),n(j);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.error(e.t0);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[3,16]])}))),[j,n]),k=Object(a.useState)(!1),C=Object(m.a)(k,2),N=C[0],S=C[1],T=we(j,400);Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ce(t)){e.next=3;break}return y(""),e.abrupt("return");case 3:return e.prev=3,e.next=6,R.get("/unique/bots/".concat(t));case 6:e.sent.data.valid||t!==T?y(""):y("That bot name is taken"),S(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(T)}),[T]),Object(a.useEffect)((function(){c(w)}),[c,w]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"First thing's first, give your bot a name"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(g.a,{fullWidth:!0,children:Object(u.jsx)(ge.a,{autoFocus:!0,className:0===v.length&&Ce&&N?s.valid:null,error:v.length>0,helperText:0===v.length&&Ce&&N?"Valid bot name":v,label:"Name",variant:"outlined",value:j,onChange:function(e){h(e.target.value),y(""),S(!1)}})})})]})}var Se="Question must be non-empty";function Te(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=Object(a.useState)(t[0]),i=Object(m.a)(s,2),l=i[0],j=i[1],h=Object(a.useState)(t[1]),x=Object(m.a)(h,2),p=x[0],O=x[1],f=Object(a.useState)(!1),g=Object(m.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(!1),k=Object(m.a)(w,2),C=k[0],N=k[1],S=Object(a.useState)([]),T=Object(m.a)(S,2),B=T[0],W=T[1],M=Object(a.useState)([]),F=Object(m.a)(M,2),A=F[0],E=F[1],L=Object(a.useCallback)((function(){y(!1),N(!1);var e=[],t=[],a=l.text.length>0,r=p.text.length>0;return a||(e.push(Se),y(!0)),r||(t.push(Se),N(!0)),W(e),E(t),n([l,p]),a&&r}),[l,p,n]);Object(a.useEffect)((function(){c(L)}),[c,L]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"Everyone needs a conversation starter"})}),Object(u.jsx)(ve,{autoFocus:!0,label:"Question 1",error:v,errorMessages:B,line:l,updateLine:function(e){var t=e.text,n=e.mood;j({text:void 0!==t?t:l.text,mood:void 0!==n?n:l.mood})}}),Object(u.jsx)(ve,{label:"Question 2",error:C,errorMessages:A,line:p,updateLine:function(e){var t=e.text,n=e.mood;O({text:void 0!==t?t:p.text,mood:void 0!==n?n:p.mood})}})]})}var Be="Response must be non-empty";function We(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=Object(a.useState)(t[0]),i=Object(m.a)(s,2),l=i[0],j=i[1],h=Object(a.useState)(t[1]),x=Object(m.a)(h,2),p=x[0],O=x[1],f=Object(a.useState)(!1),g=Object(m.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(!1),k=Object(m.a)(w,2),C=k[0],N=k[1],S=Object(a.useState)([]),T=Object(m.a)(S,2),B=T[0],W=T[1],M=Object(a.useState)([]),F=Object(m.a)(M,2),A=F[0],E=F[1],L=Object(a.useCallback)((function(){y(!1),N(!1);var e=[],t=[],a=l.text.length>0,r=p.text.length>0;return a||(e.push(Be),y(!0)),r||(t.push(Be),N(!0)),W(e),E(t),n([l,p]),a&&r}),[l,p,n]);Object(a.useEffect)((function(){c(L)}),[c,L]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"Time for some trash talk"})}),Object(u.jsx)(ve,{autoFocus:!0,label:"Response 1",error:v,errorMessages:B,line:l,updateLine:function(e){var t=e.text,n=e.mood;j({text:void 0!==t?t:l.text,mood:void 0!==n?n:l.mood})}}),Object(u.jsx)(ve,{label:"Response 2",error:C,errorMessages:A,line:p,updateLine:function(e){var t=e.text,n=e.mood;O({text:void 0!==t?t:p.text,mood:void 0!==n?n:p.mood})}})]})}var Me=Object(j.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",padding:20},activeStep:{color:e.palette.success.light},stepContainer:{padding:20,flexGrow:1,textAlign:"center"},stepContent:{flexGrow:1,padding:"0 !important",alignContent:"flex-start"},stepButton:{alignSelf:"flex-end",textAlign:"center",display:"flex",justifyContent:"space-evenly"}}}));var Fe=n(224),Ae=n(225),Ee=n(226),Le=n(227),Re=n(228),ze=n(229),He=n(230),Ge=n(75),De=n.n(Ge),Ie=Object(j.a)((function(e){return{container:{flexGrow:1},botsContainer:{paddingTop:20,alignContent:"flex-start"},noBots:{marginTop:"20%",marginBottom:20},tableContainer:{padding:20},selectBot:{textDecoration:"none",color:"black",cursor:"pointer","&:hover":{color:"green"}},delete:{"&:hover":{color:"red"}},loadingContainer:{alignContent:"center"},loading:{display:"flex",alignSelf:"center",justifyContent:"center",flexGrow:1}}}));var Pe=Object(j.a)((function(e){return{title:{fontSize:40,fontWeight:"bolder",marginTop:30,marginBottom:50},container:{display:"flex",flex:1,flexDirection:"column",textAlign:"center"},directionText:{fontSize:24,padding:20},button:{fontSize:20,margin:"auto",width:"50%"}}}));var _e=n(243),qe=n(231),Ve=Object(j.a)((function(e){return{container:{height:"70%"},row:{overflowWrap:"break-word"},delete:{"&:hover":{color:"red"}}}}));function Je(e){var t=e.botID,n=e.lineType,c=e.lines,o=e.min,s=e.refresh,i=Ve(),l=Object(a.useState)({text:"",mood:0}),j=Object(m.a)(l,2),b=j[0],h=j[1],O=Object(a.useState)(!1),g=Object(m.a)(O,2),v=g[0],y=g[1],w=Object(a.useState)([]),C=Object(m.a)(w,2),N=C[0],S=C[1],T=Object(a.useState)(!1),B=Object(m.a)(T,2),W=B[0],F=B[1],A=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/bots/".concat(t,"/").concat(n),b);case 3:s(),h({text:"",mood:0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(x.a.mark((function e(a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.length<=o)){e.next=3;break}return F(!0),e.abrupt("return");case 3:return e.next=5,R.delete("/bots/".concat(t,"/").concat(n,"/").concat(a));case 5:s();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsxs)(oe.a,{onClose:function(){return F(!1)},open:W,children:[Object(u.jsxs)(se.a,{children:["Must have at least ",o," ",n]}),Object(u.jsx)(ie.a,{style:{justifyContent:"center"},children:Object(u.jsx)(k.a,{autoFocus:!0,onClick:function(){return F(!1)},color:"primary",children:"OK"})})]}),Object(u.jsx)(d.a,{item:!0,xs:12,className:i.container,children:Object(u.jsx)(Ae.a,{component:f.a,children:Object(u.jsxs)(Ee.a,{stickyHeader:!0,children:[Object(u.jsxs)("colgroup",{children:[Object(u.jsx)("col",{style:{width:"80%"}}),Object(u.jsx)("col",{style:{width:"10%"}}),Object(u.jsx)("col",{style:{width:"10%"}})]}),Object(u.jsx)(Le.a,{children:Object(u.jsxs)(Re.a,{children:[Object(u.jsx)(ze.a,{align:"center",children:"Text"}),Object(u.jsx)(ze.a,{align:"center",children:"Mood"}),Object(u.jsx)(ze.a,{align:"center",children:"Delete"})]})}),Object(u.jsx)(He.a,{children:c.map((function(e,t){return Object(u.jsxs)(Re.a,{hover:!0,className:i.row,children:[Object(u.jsx)(ze.a,{align:"left",children:e.text}),Object(u.jsx)(ze.a,{align:"center",children:L[e.mood]}),Object(u.jsx)(ze.a,{align:"center",children:Object(u.jsx)(ue,{render:function(e){return Object(u.jsx)(M.a,{onClick:e,className:i.delete,children:Object(u.jsx)(De.a,{})})},onConfirm:function(){return E(t)},prompt:"Are you sure you want to delete this line?",confirmText:"Delete",color:"red",hoverColor:"darkred"})})]},t)}))})]})})}),Object(u.jsxs)(d.a,{container:!0,spacing:3,item:!0,xs:12,children:[Object(u.jsx)(ve,{label:"Add ".concat(n.substr(0,-1)),error:v,errorMessages:N,line:b,updateLine:function(e){var t=e.text,n=e.mood;h({text:void 0!==t?t:b.text,mood:void 0!==n?n:b.mood})}}),Object(u.jsx)(d.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(u.jsx)(k.a,{onClick:function(){y(!1);var e=[],t=b.text.length>0;t||(e.push("Question must be non-empty"),y(!0)),S(e),t&&A()},fullWidth:!0,size:"large",variant:"contained",color:"secondary",children:"Add"})})]})]})}var Ue=Object(j.a)((function(e){return{name:{fontSize:30,fontWeight:600,textAlign:"center",padding:5.5},tabContainer:{padding:20,height:"100%",flexGrow:1},generalContainer:{paddingTop:30,textAlign:"center",flexGrow:1,alignContent:"flex-start"},generalSave:{alignSelf:"flex-end"},errorList:{textAlign:"center",color:"red"},loading:{display:"flex",alignSelf:"center",justifyContent:"center",flexGrow:1},valid:{"& label.MuiInputLabel-formControl":{color:"green"},"& p.MuiFormHelperText-root":{color:"green"},"& input + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:focus + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:hover + fieldset":{borderColor:"green",borderWidth:2}}}}));function Qe(e){return e.length>=3&&e.length<=30}function Ze(e){var t=e.children,n=e.value,a=e.index,r=Object(i.a)(e,["children","value","index"]),c=Ue();return Object(u.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",hidden:n!==a,style:{height:"100%"}},r),{},{children:n===a&&Object(u.jsx)(d.a,{container:!0,className:c.tabContainer,children:t})}))}var Ke=n(232),Ye=n(233),Xe=Object(j.a)((function(e){return{title:{paddingTop:60,paddingBottom:50,fontSize:36},formContainer:{width:"40vw",minWidth:300,margin:"auto",padding:20},bottomText:{marginTop:-10,textAlign:"center"},link:{textDecoration:"none",color:e.palette.info.main,"&:hover":{color:e.palette.secondary.main}},icon:{alignSelf:"center",fontSize:44,paddingRight:10},failed:{color:"red",fontSize:16,padding:0}}}));var $e=Object(j.a)((function(e){return{title:{paddingTop:60,paddingBottom:50,fontSize:36},formContainer:{width:"60vw",minWidth:300,margin:"auto",padding:20},formRow:{display:"flex",justifyContent:"space-around"},bottomText:{marginTop:-10,textAlign:"center"},link:{textDecoration:"none",color:e.palette.info.main,"&:hover":{color:e.palette.secondary.main}},valid:{"& label.MuiInputLabel-formControl":{color:"green"},"& p.MuiFormHelperText-root":{color:"green"},"& input + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:focus + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:hover + fieldset":{borderColor:"green",borderWidth:2}}}}));var et={"/":{name:"Home",path:"/",component:function(){var e=J();return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(b.a,{className:e.title,align:"center",children:"WELCOME TO CHATBOT WARS"}),Object(u.jsxs)("div",{className:e.container,children:[Object(u.jsx)(b.a,{variant:"h6",children:"Build your own chatbot. Watch it crash and burn."}),Object(u.jsx)(k.a,{className:e.button,size:"large",variant:"contained",color:"secondary",component:V.b,to:"/workshop",children:"Get Started"})]})]})},exact:!0,icon:be.a},"/workshop":{name:"Workshop",path:"/workshop",component:function(e){var t=e.routes,n=Object(l.j)().path;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsx)(l.d,{children:t.map((function(e,t){return e.auth?Object(u.jsx)(nt,{exact:!0,path:"".concat(n).concat(e.path),children:Object(u.jsx)(e.component,{})},t):Object(u.jsx)(l.b,{exact:!0,path:"".concat(n).concat(e.path),children:Object(u.jsx)(e.component,{})},t)}))})})},icon:he.a,routes:[{path:"/",component:function(){var e=Pe();return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(b.a,{className:e.title,align:"center",children:"WELCOME TO THE WORKSHOP"}),Object(u.jsxs)("div",{className:e.container,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(b.a,{className:e.directionText,align:"center",children:"Start off by creating a bot"}),Object(u.jsx)(k.a,{className:e.button,component:V.b,to:"/workshop/create",size:"large",variant:"contained",color:"secondary",children:"Create"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)(b.a,{className:e.directionText,align:"center",children:"Or keep working on existing ones"}),Object(u.jsx)(k.a,{className:e.button,component:V.b,to:"/workshop/edit",size:"large",variant:"contained",color:"secondary",children:"Edit"})]})]})]})},auth:!1},{path:"/create",component:function(){var e=Me(),t=Object(a.useState)(0),n=Object(m.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(new Set),l=Object(m.a)(i,2),j=l[0],h=l[1],O=function(){return j.size===q.length},f=function(e){return function(){j.has(e)&&o(e)}},g=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Set(j),e.next=3,q[c].validate();case 3:if(e.sent){e.next=8;break}return t.delete(c),h(t),e.abrupt("return");case 8:t.add(c),h(t),j.size!==q.length&&o(c+1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function v(e){return j.has(e)}var y=Object(a.useState)(null),w=Object(m.a)(y,2),C=w[0],N=w[1],S=Object(a.useState)(""),T=Object(m.a)(S,2),B=T[0],W=T[1],M=Object(a.useState)([{text:"",mood:0}]),F=Object(m.a)(M,2),A=F[0],E=F[1],L=Object(a.useState)([{text:"",mood:0},{text:"",mood:0}]),z=Object(m.a)(L,2),H=z[0],G=z[1],D=Object(a.useState)([{text:"",mood:0},{text:"",mood:0}]),I=Object(m.a)(D,2),P=I[0],_=I[1],q=[{title:"Name",component:Ne,value:B,handler:W},{title:"Greetings",component:ye,value:A,handler:E},{title:"Questions",component:Te,value:H,handler:G},{title:"Responses",component:We,value:P,handler:_},{title:"Finalize",component:fe,value:B,handler:null,validate:function(){return!0}}],J=function(){var e=Object(p.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:B,greetings:A,questions:H,responses:P},console.log(t),e.next=4,R.post("/bots",t);case 4:n=e.sent,N(n.data.id),console.log(JSON.stringify(n.data));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:e.root,children:[!O()&&Object(u.jsx)(Oe.a,{alternativeLabel:!0,nonLinear:!0,activeStep:c,children:q.map((function(e,t){return Object(u.jsx)(pe.a,Object(s.a)(Object(s.a)({active:c===t},{}),{},{children:Object(u.jsx)(me.a,Object(s.a)(Object(s.a)({disabled:c!==t&&!v(t),onClick:f(t),completed:c!==t&&v(t)},{}),{},{children:e.title}))}),e.title)}))}),Object(u.jsx)(d.a,{container:!0,direction:"row",spacing:3,className:e.stepContainer,children:O()?Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h4",children:"Bot created successfully!"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(k.a,{to:"/workshop/edit/".concat(C),component:V.b,variant:"contained",color:"secondary",children:"See it in the workshop"})})]}):Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{container:!0,spacing:3,item:!0,xs:12,className:e.stepContent,children:r.a.createElement(q[c].component,{value:q[c].value,updateHandler:q[c].handler,setValidator:function(e){return q[c].validate=e},titleStyle:{padding:"30px 0px"}})}),Object(u.jsxs)(d.a,{item:!0,xs:12,className:e.stepButton,children:[Object(u.jsx)(k.a,{disabled:0===c,onClick:function(){o(c-1)},size:"large",variant:"contained",color:"secondary",children:"Back"}),c!==q.length-1?Object(u.jsx)(k.a,{onClick:g,size:"large",variant:"contained",color:"secondary",children:"Next"}):Object(u.jsx)(k.a,{onClick:function(){J(),g()},size:"large",variant:"contained",color:"secondary",children:"To Glory"})]})]})})]})},auth:!0},{path:"/edit",component:function(){var e=Ie(),t=Object(l.g)(),n=Object(a.useState)(!0),c=Object(m.a)(n,2),o=c[0],s=c[1],i=Object(a.useState)([]),j=Object(m.a)(i,2),h=j[0],O=j[1],g=Object(a.useCallback)(Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/users/bots");case 2:t=e.sent,O(t.data),s(!1);case 5:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){g()}),[g]);var v=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.delete("/bots/".concat(t));case 2:g();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(d.a,{container:!0,className:e.container,children:o?Object(u.jsx)(d.a,{item:!0,xs:12,className:e.loading,children:Object(u.jsx)(Fe.a,{color:"secondary"})}):Object(u.jsx)(d.a,{container:!0,item:!0,xs:12,className:e.botsContainer,children:h.length>0?Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"Select a bot to edit"})}),Object(u.jsx)(d.a,{item:!0,xs:12,className:e.tableContainer,children:Object(u.jsx)(Ae.a,{component:f.a,children:Object(u.jsxs)(Ee.a,{stickyHeader:!0,children:[Object(u.jsxs)("colgroup",{children:[Object(u.jsx)("col",{style:{width:"80%"}}),Object(u.jsx)("col",{style:{width:"20%"}})]}),Object(u.jsx)(Le.a,{children:Object(u.jsxs)(Re.a,{children:[Object(u.jsx)(ze.a,{children:"Name"}),Object(u.jsx)(ze.a,{align:"center",children:"Delete"})]})}),Object(u.jsx)(He.a,{children:h.map((function(n,a){return Object(u.jsxs)(Re.a,{hover:!0,children:[Object(u.jsx)(ze.a,{className:e.selectBot,onClick:function(){var e;e=n.id,t.push("/workshop/edit/".concat(e))},align:"left",children:n.name}),Object(u.jsx)(ze.a,{align:"center",children:Object(u.jsx)(ue,{render:function(t){return Object(u.jsx)(M.a,{onClick:t,className:e.delete,children:Object(u.jsx)(De.a,{})})},onConfirm:function(){return v(n.id)},prompt:"Are you sure you want to delete this bot?",confirmText:"Delete",color:"red",hoverColor:"darkred"})})]},a)}))})]})})})]}):Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,className:e.noBots,children:Object(u.jsx)(b.a,{variant:"h4",align:"center",children:"You haven't created any bots"})}),Object(u.jsx)(d.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(u.jsx)(k.a,{component:V.b,to:"/workshop/create",variant:"contained",color:"secondary",children:"Create a bot"})})]})})})},auth:!0},{path:"/edit/:id",component:function(){var e=Ue(),t=Object(l.i)().id,n=Object(a.useState)(!0),c=Object(m.a)(n,2),o=c[0],i=c[1],j=r.a.useState(0),h=Object(m.a)(j,2),O=h[0],f=h[1],v=Object(a.useState)({}),y=Object(m.a)(v,2),w=y[0],N=y[1],B=Object(a.useState)(""),W=Object(m.a)(B,2),M=W[0],F=W[1],A=Object(a.useState)([]),E=Object(m.a)(A,2),L=E[0],z=E[1],H=Object(a.useState)(!1),G=Object(m.a)(H,2),D=G[0],I=G[1],P=Object(a.useState)(""),_=Object(m.a)(P,2),q=_[0],V=_[1],J=function(){var e=Object(p.a)(x.a.mark((function e(){var t,n,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n=w.greetings.length>=1,a=w.questions.length>=2,r=w.responses.length>=2,Qe(M)||(V("Name must be between 3 and 30 characters"),t.push("Name must be between 3 and 30 characters")),n||t.push("Must have at least 1 greeting"),a||t.push("Must have at least 2 questions"),r||t.push("Must have at least 2 responses"),Qe(M)&&n&&a&&r){e.next=12;break}return z(t),I(!0),e.abrupt("return");case 12:if(w.name===M){e.next=25;break}return e.prev=13,e.next=16,R.get("/unique/bots/".concat(M));case 16:e.sent.data.valid?(V(""),ee()):V("That bot name is taken"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(13),console.error(e.t0);case 23:e.next=26;break;case 25:V("That's the same name!");case 26:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(){return e.apply(this,arguments)}}(),U=Object(a.useState)(!1),Q=Object(m.a)(U,2),Z=Q[0],K=Q[1],Y=we(M,400);Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe(t)){e.next=3;break}return V(""),e.abrupt("return");case 3:return e.prev=3,e.next=6,R.get("/unique/bots/".concat(t));case 6:e.sent.data.valid||t!==Y||t===w.name?V(""):V("That bot name is taken"),K(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(Y)}),[Y,w.name]);var X=Object(a.useCallback)(Object(p.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/bots/".concat(t));case 2:n=e.sent,N(n.data),F(n.data.name),i(!1);case 6:case"end":return e.stop()}}),e)}))),[t]),ee=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.put("/bots/".concat(t),Object(s.a)(Object(s.a)({},w),{},{name:M}));case 2:X();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){X()}),[X]);var te=Z&&0===q.length&&Qe(M)&&M!==w.name;return Object(u.jsxs)(r.a.Fragment,{children:[o?Object(u.jsx)(d.a,{container:!0,style:{flexGrow:1},children:Object(u.jsx)(d.a,{item:!0,xs:12,className:e.loading,children:Object(u.jsx)(Fe.a,{color:"secondary"})})}):Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(b.a,{className:e.name,children:w.name}),Object(u.jsx)($.a,{position:"static",children:Object(u.jsxs)(_e.a,{value:O,onChange:function(e,t){f(t)},variant:"fullWidth",children:[Object(u.jsx)(qe.a,{label:"General"}),Object(u.jsx)(qe.a,{label:"Greetings"}),Object(u.jsx)(qe.a,{label:"Questions"}),Object(u.jsx)(qe.a,{label:"Responses"})]})}),Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsxs)(Ze,{value:O,index:0,className:e.general,children:[Object(u.jsx)(d.a,{container:!0,spacing:3,item:!0,xs:12,className:e.generalContainer,children:Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(g.a,{fullWidth:!0,children:Object(u.jsx)(ge.a,{autoFocus:!0,className:te?e.valid:null,error:q.length>0,helperText:te?"Valid bot name":q,label:"Name",variant:"outlined",value:M,onChange:function(e){F(e.target.value),V(""),K(!1)}})})})}),D&&Object(u.jsx)(d.a,{item:!0,xs:12,className:e.errorList,children:Object(u.jsx)(C.a,{subheader:"Please fix the following errors",children:L.map((function(t,n){return Object(u.jsx)(S.a,{children:Object(u.jsx)(T.a,{primary:t,className:e.errorList})},n)}))})}),Object(u.jsx)(d.a,{item:!0,xs:12,className:e.generalSave,children:Object(u.jsx)(k.a,{onClick:J,fullWidth:!0,size:"large",variant:"contained",color:"secondary",children:"Save"})})]}),Object(u.jsx)(Ze,{value:O,index:1,children:Object(u.jsx)(Je,{botID:w.id,lineType:"greetings",lines:w.greetings,min:1,refresh:X})}),Object(u.jsx)(Ze,{value:O,index:2,children:Object(u.jsx)(Je,{botID:w.id,lineType:"questions",lines:w.questions,min:2,refresh:X})}),Object(u.jsx)(Ze,{value:O,index:3,children:Object(u.jsx)(Je,{botID:w.id,lineType:"responses",lines:w.responses,min:2,refresh:X})})]})]})," "]})},auth:!0}]},"/fight":{name:"Fight",path:"/fight",component:function(){var e=q();return Object(u.jsxs)(d.a,{container:!0,className:e.container,children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{className:e.title,align:"center",children:"WELCOME TO THE DEATH ZONE"})}),Object(u.jsx)(d.a,{item:!0,xs:12,className:e.fightZone,children:Object(u.jsx)(_,{})})]})},icon:xe.a},"/login":{name:"Login",path:"/login",component:function(){var e=Xe(),t=ce().login,n=Object(l.g)(),c=Object(l.h)(),o=Object(a.useState)({username:"",password:""}),i=Object(m.a)(o,2),j=i[0],h=i[1],O=Object(a.useState)({username:"",password:""}),g=Object(m.a)(O,2),v=g[0],y=g[1],w=Object(a.useState)(!1),C=Object(m.a)(w,2),N=C[0],S=C[1],T=function(){var e=Object(p.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={username:"",password:""},n=!0,0===j.username.length&&(t.username="Username must not be empty",n=!1),0===j.password.length&&(t.password="Password must not be empty",n=!1),n&&W(),y((function(){return t}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=(c.state||{from:{pathname:"/"}}).from;function W(){return M.apply(this,arguments)}function M(){return(M=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(j.username,j.password);case 3:n.replace(B),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),S(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)(d.a,{container:!0,direction:"row",style:{margin:0},children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{className:e.title,align:"center",children:"Login to edit your bots"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)(d.a,{container:!0,spacing:4,component:f.a,className:e.formContainer,elevation:6,children:[N&&Object(u.jsx)(d.a,{item:!0,xs:12,className:e.failed,children:Object(u.jsx)(b.a,{align:"center",children:"Invalid username or password"})}),Object(u.jsxs)(d.a,{item:!0,xs:12,style:{display:"flex"},children:[Object(u.jsx)(Ke.a,{className:e.icon,color:"action"}),Object(u.jsx)(ge.a,{error:0===j.username.length&&v.username.length>0,helperText:0===j.username.length?v.username:"",onChange:function(e){return h(Object(s.a)(Object(s.a)({},j),{},{username:e.target.value}))},label:"Username",variant:"outlined",style:{flexGrow:1}})]}),Object(u.jsxs)(d.a,{item:!0,xs:12,style:{display:"flex"},children:[Object(u.jsx)(Ye.a,{className:e.icon,color:"action"}),Object(u.jsx)(ge.a,{error:0===j.password.length&&v.password.length>0,helperText:0===j.password.length?v.password:"",onChange:function(e){return h(Object(s.a)(Object(s.a)({},j),{},{password:e.target.value}))},type:"password",label:"Password",variant:"outlined",style:{flexGrow:1}})]}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(k.a,{onClick:T,fullWidth:!0,variant:"contained",color:"secondary",style:{},children:"Log In"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)("p",{className:e.bottomText,children:["Not registered? ",Object(u.jsx)(V.b,{to:"/register",className:e.link,children:"Click here to create an account"})]})})]})})]})})},noAuth:!0},"/register":{name:"Register",path:"/register",component:function(){var e=$e(),t=ce(),n=t.register,c=t.login,o=Object(l.g)(),i=Object(l.h)(),j=Object(a.useState)({firstName:"",lastName:"",username:"",password:""}),h=Object(m.a)(j,2),O=h[0],g=h[1],v=Object(a.useState)({firstName:"",lastName:"",username:"",password:""}),y=Object(m.a)(v,2),w=y[0],C=y[1],N=Object(a.useState)(!1),S=Object(m.a)(N,2),T=S[0],B=S[1],W=we(O.username,400);Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,R.get("/unique/users/".concat(t));case 5:e.sent.data.valid||t!==W?C((function(e){return Object(s.a)(Object(s.a)({},e),{},{username:""})})):C((function(e){return Object(s.a)(Object(s.a)({},e),{},{username:"That username is taken"})})),B(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(W)}),[W]);var M=(i.state||{from:{pathname:"/"}}).from;function F(){return(F=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(O);case 3:return e.next=5,c(O.username,O.password);case 5:o.replace(M),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)(d.a,{container:!0,direction:"row",style:{margin:0},children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{className:e.title,align:"center",children:"Register to create your own bots"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)(d.a,{container:!0,spacing:4,component:f.a,className:e.formContainer,elevation:6,children:[Object(u.jsxs)(d.a,{item:!0,xs:12,className:e.formRow,children:[Object(u.jsx)(ge.a,{error:0===O.firstName.length&&w.firstName.length>0,helperText:0===O.firstName.length?w.firstName:"",onChange:function(e){return g(Object(s.a)(Object(s.a)({},O),{},{firstName:e.target.value}))},label:"First Name",variant:"outlined"}),Object(u.jsx)(ge.a,{error:0===O.lastName.length&&w.lastName.length>0,helperText:0===O.lastName.length?w.lastName:"",onChange:function(e){return g(Object(s.a)(Object(s.a)({},O),{},{lastName:e.target.value}))},label:"Last Name",variant:"outlined"})]}),Object(u.jsxs)(d.a,{item:!0,xs:12,className:e.formRow,children:[Object(u.jsx)(ge.a,{className:0===w.username.length&&O.username.length>0&&T?e.valid:null,error:w.username.length>0,helperText:0===w.username.length&&0!==O.username.length&&T?"Valid username":w.username,onChange:function(e){g(Object(s.a)(Object(s.a)({},O),{},{username:e.target.value})),C(Object(s.a)(Object(s.a)({},w),{},{username:""})),B(!1)},label:"Username",variant:"outlined"}),Object(u.jsx)(ge.a,{error:0===O.password.length&&w.password.length>0,helperText:0===O.password.length?w.password:"",onChange:function(e){return g(Object(s.a)(Object(s.a)({},O),{},{password:e.target.value}))},type:"password",label:"Password",variant:"outlined"})]}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(k.a,{onClick:function(){var e={firstName:"",lastName:"",username:w.username,password:""},t=!0;0===O.firstName.length&&(e.firstName="First name must not be empty",t=!1),0===O.lastName.length&&(e.lastName="Last name must not be empty",t=!1),0===O.username.length&&(e.username="Username must not be empty",t=!1),0===O.password.length&&(e.password="Password must not be empty",t=!1),t&&function(){F.apply(this,arguments)}(),C((function(){return e}))},fullWidth:!0,variant:"contained",color:"secondary",children:"Register"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)("p",{className:e.bottomText,children:["Already a user? ",Object(u.jsx)(V.b,{to:"/login",className:e.link,children:"Click here to login"})]})})]})})]})})},noAuth:!0}};function tt(){return Object(u.jsx)(V.a,{children:Object(u.jsx)(de,{routes:et,children:Object(u.jsxs)(l.d,{children:[Object.values(et).map((function(e,t){return e.auth?Object(u.jsx)(nt,{exact:e.exact||!1,path:e.path,children:Object(u.jsx)(e.component,{routes:e.routes})},t):e.noAuth?Object(u.jsx)(at,{exact:e.exact||!1,path:e.path,children:Object(u.jsx)(e.component,{routes:e.routes})},t):Object(u.jsx)(l.b,{exact:e.exact||!1,path:e.path,children:Object(u.jsx)(e.component,{routes:e.routes})},t)})),Object(u.jsx)(l.b,{path:"*",render:function(e){var t=e.location;return Object(u.jsx)(l.a,{to:{pathname:"/",state:{from:t}}})}})]})})})}function nt(e){var t=e.children,n=Object(i.a)(e,["children"]),a=ce().user;return Object(u.jsx)(l.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(u.jsx)(l.a,{to:{pathname:"/login",state:{from:n}}})}}))}function at(e){var t=e.children,n=Object(i.a)(e,["children"]),a=ce().user;return Object(u.jsx)(l.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){e.location;return a?Object(u.jsx)(l.a,{to:{pathname:"/"}}):t}}))}var rt=n(240),ct=n(237),ot=n(238),st=n(239),it=Object(ct.a)({palette:{primary:{light:ot.a[300],main:ot.a[600],dark:ot.a[900],contrastText:"#fff"},secondary:{light:st.a[500],main:st.a[600],dark:st.a[800],contrastText:"#000"}},layout:{nav:{appBarHeight:64}}});function lt(){return Object(u.jsx)(re,{children:Object(u.jsx)(rt.a,{theme:it,children:Object(u.jsx)(tt,{})})})}o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(lt,{})}),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.2b1f7003.chunk.js.map