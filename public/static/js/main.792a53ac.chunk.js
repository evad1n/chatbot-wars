(this["webpackJsonpchatbot-wars"]=this["webpackJsonpchatbot-wars"]||[]).push([[0],{153:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),s=n(10),i=n(58),l=n(17),u=n(1);var j=n(190),d=n(196),b=n(59),h=n(9),x=n.n(h),p=n(13),O=n(7),m=n(84),f=n(107),g=n(197),v=n(236),y=n(231),w=n(200),k=n(201),C=n(192),N=n(202),S=n(155),T=n(194),B=n(100),M=n.n(B).a.create({baseURL:"/api"});M.interceptors.request.use((function(e){var t=localStorage.getItem("jwt_token");return e.headers.Authorization="Bearer ".concat(t),e}),(function(e){return Promise.reject(e)}));var W=["Happy","Angry","Sad"],A=M,F=n(230),E=n(195),L=Object(j.a)((function(e){return{container:{flexGrow:1,maxHeight:"100%"},line:{display:"flex"},name:{fontWeight:700}}}));function R(e){var t=e.transcript,n=e.scrollContainerRef,c=L(),o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=n.current;o.current&&e.scrollHeight-e.clientHeight-e.scrollTop<100&&o.current.scrollIntoView({behaviour:"smooth"})}),[t.length,n]),Object(u.jsx)(F.a,{className:c.container,children:Object(u.jsx)(C.a,{children:0===t.length?Object(u.jsx)(S.a,{children:Object(u.jsx)(T.a,{primary:"Waiting for messages..."})}):t.map((function(e,n){return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(S.a,{ref:n===t.length-1?o:null,children:Object(u.jsxs)(F.a,{className:"MuiListItemText-root MuiListItemText-multiline",children:[Object(u.jsxs)("p",{className:"MuiTypography-root MuiListItemText-primary MuiTypography-body1 MuiTypography-displayBlock",children:[Object(u.jsx)("strong",{children:e.name}),": ",e.line.text]}),Object(u.jsx)("p",{className:"MuiTypography-root MuiListItemText-secondary MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-displayBlock",children:W[e.line.mood]})]})}),n!==t.length-1&&Object(u.jsx)(E.a,{})]},n)}))})})}var z=Object(j.a)((function(e){return{container:{flexGrow:1,height:"100%",border:"1px solid #bbb"},sideBar:{borderRight:"1px solid grey",alignContent:"flex-start"},select:{padding:10,borderBottom:"1px solid grey"},addButton:{marginTop:5},notStartedContainer:{textAlign:"center",justifyContent:"center",alignContent:"center"},notStartedMsg:{textAlign:"center",fontSize:20},transcriptContainer:{overflow:"auto",maxHeight:"100%"}}})),G={ws:new WebSocket("wss://".concat(document.location.host,"/api/rooms")),active:!1,roomBots:[],transcript:[],remainingBots:[]};function I(e,t){switch(t.type){case"INIT":return Object(s.a)(Object(s.a)({},e),{},{remainingBots:t.bots});case"START_ROOM":return Object(s.a)(Object(s.a)({},e),{},{active:!0});case"ADD_BOT":var n=e.remainingBots.find((function(e){return e.id===t.id})),a=e.remainingBots.filter((function(e){return e.id!==t.id}));return Object(s.a)(Object(s.a)({},e),{},{roomBots:[].concat(Object(m.a)(e.roomBots),[n]),remainingBots:a});case"NEW_MESSAGE":return Object(s.a)(Object(s.a)({},e),{},{transcript:[].concat(Object(m.a)(e.transcript),[t.message])});default:throw new Error("unrecognized action type")}}function H(){var e=z(),t=Object(a.useRef)(null),n=Object(a.useState)(""),r=Object(O.a)(n,2),c=r[0],o=r[1],s=Object(a.useReducer)(I,G),i=Object(O.a)(s,2),l=i[0],j=i[1];Object(a.useEffect)((function(){(function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/bots");case 2:t=e.sent,j({type:"INIT",bots:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){l.ws.onmessage=function(e){j(JSON.parse(e.data))}}));var b=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.ws.send(JSON.stringify({type:"START_ROOM"})),j({type:"START_ROOM"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(d.a,{component:f.a,elevation:3,container:!0,item:!0,xs:12,className:e.container,children:[Object(u.jsxs)(d.a,{container:!0,item:!0,xs:3,className:e.sideBar,children:[Object(u.jsx)(d.a,{item:!0,xs:12,className:e.select,children:Object(u.jsxs)(g.a,{variant:"outlined",fullWidth:!0,children:[Object(u.jsx)(v.a,{children:"Add a bot"}),Object(u.jsxs)(y.a,{variant:"outlined",label:"Add a bot",onChange:function(e){o(e.target.value)},value:c,children:[Object(u.jsx)(w.a,{value:"",children:Object(u.jsx)("em",{children:"None"})}),l.remainingBots.map((function(e,t){return Object(u.jsx)(w.a,{value:e.id,children:e.name},t)}))]}),Object(u.jsx)(k.a,{onClick:function(){if(""!==c){var e={type:"ADD_BOT",payload:c};l.ws.send(JSON.stringify(e)),o("")}},variant:"contained",color:"secondary",className:e.addButton,children:"Add"})]})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)(C.a,{children:[Object(u.jsx)(N.a,{style:{textAlign:"center"},children:"Current Bots"}),l.roomBots.map((function(e,t){return Object(u.jsx)(S.a,{children:Object(u.jsx)(T.a,{primary:e.name})},t)}))]})})]}),Object(u.jsx)(d.a,{container:!0,item:!0,xs:9,className:e.transcriptContainer,ref:t,children:l.active?Object(u.jsx)(R,{transcript:l.transcript,scrollContainerRef:t}):Object(u.jsx)(d.a,{container:!0,className:e.notStartedContainer,item:!0,xs:12,children:Object(u.jsxs)(d.a,{item:!0,xs:12,children:[Object(u.jsx)("p",{className:e.notStartedMsg,children:"Start the room to see messages"}),Object(u.jsx)(k.a,{onClick:b,variant:"contained",color:"secondary",children:"Start"})]})})})]})}var D=Object(j.a)((function(e){return{container:{paddingTop:30,flexGrow:1,alignContent:"flex-start"},title:{fontSize:30,fontWeight:"bold"},fightZone:{flexGrow:1,padding:20,height:"80vh"}}}));var q=n(18),P=Object(j.a)((function(e){return{container:{display:"flex",flex:1,flexDirection:"column",textAlign:"center",justifyContent:"space-around"},title:{fontSize:40,fontWeight:"bolder",marginTop:30,marginBottom:50},feature:{marginTop:50,flexGrow:1},button:{margin:"0 30%",marginTop:20,marginBottom:200,fontSize:30,padding:"20px 40px"}}}));var _=n(24),V=n(206),J=n(207),Q=n(208),U=n(209),Z=n(238),K=n(211),Y=n(210),X=Object(a.createContext)();function $(e){var t=e.children,n=function(){var e=Object(a.useState)(!0),t=Object(O.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==localStorage.getItem("jwt_token")){e.next=14;break}return e.prev=2,e.next=5,A.get("/me");case 5:t=e.sent,r(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:e.next=15;break;case 14:r(!1);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}e()}),[]),{user:n,register:function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.post("/users",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(p.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.post("/sessions",{username:t,password:n});case 3:return a=e.sent,localStorage.setItem("jwt_token",a.data.token),r(a.data.user),e.abrupt("return",!0);case 9:throw e.prev=9,e.t0=e.catch(0),Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){localStorage.removeItem("jwt_token"),r((function(){return!1}))}}}();return Object(u.jsx)(X.Provider,{value:n,children:t})}var ee=function(){return Object(a.useContext)(X)};var te=n(203),ne=n(204),ae=n(205),re=Object(j.a)((function(e){return{confirmButton:{backgroundColor:function(e){return e.color},"&:hover":{backgroundColor:function(e){return e.hoverColor}}}}}));function ce(e){var t=e.onConfirm,n=e.prompt,c=e.confirmText,o=e.render,s=re(e),i=Object(a.useState)(!1),l=Object(O.a)(i,2),j=l[0],d=l[1],b=function(){d(!1)};return Object(u.jsxs)(r.a.Fragment,{children:[o&&o((function(){d(!0)})),Object(u.jsxs)(te.a,{onClose:b,open:j,children:[Object(u.jsx)(ne.a,{children:n}),Object(u.jsxs)(ae.a,{style:{justifyContent:"center",marginBottom:10},children:[Object(u.jsx)(k.a,{autoFocus:!0,onClick:b,variant:"contained",color:"primary",children:"Cancel"}),Object(u.jsx)(k.a,{onClick:function(){t(),b()},variant:"contained",className:s.confirmButton,children:c})]})]})]})}var oe=Object(j.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:e.palette.primary.dark},dividerColor:{backgroundColor:e.palette.primary.contrastText},appBarLeft:{width:240,flexShrink:1,fontSize:30,fontWeight:500},appBarRight:{textAlign:"right",flexGrow:1,paddingRight:20,fontSize:30},loginLink:{textDecoration:"none",color:e.palette.primary.contrastText,"&:hover":{color:e.palette.secondary.main}},logoutContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},logoutButton:{color:"white","&:hover":{color:e.palette.secondary.main}},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},activeNav:{fontWeight:"bold",color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.main}},content:{paddingTop:e.layout.nav.appBarHeight,flexGrow:1,height:"100vh",display:"flex",flexDirection:"column",overflowX:"hidden"}}}));function se(e){var t=e.routes,n=e.children,a=ee(),r=a.user,c=a.logout,o=Object(_.a)(),s=oe(),i=Object(l.g)();return Object(u.jsxs)("div",{className:s.root,children:[Object(u.jsx)(V.a,{}),Object(u.jsx)(J.a,{position:"fixed",className:s.appBar,children:Object(u.jsxs)(Q.a,{disableGutters:!0,className:s.headerContainer,children:[Object(u.jsx)(b.a,{className:s.appBarLeft,variant:"h4",align:"center",noWrap:!0,children:"Chatbot Wars"}),Object(u.jsx)("div",{className:s.appBarRight,children:r?Object(u.jsxs)("div",{className:s.logoutContainer,children:[Object(u.jsxs)(b.a,{variant:"h5",style:{alignSelf:"center"},children:["Hi, ",r.username]}),Object(u.jsx)(ce,{}),Object(u.jsx)(ce,{render:function(e){return Object(u.jsx)(U.a,{onClick:e,className:s.logoutButton,children:Object(u.jsx)(Y.a,{})})},onConfirm:function(){c(),i.push("/")},prompt:"Are you sure you want to log out?",confirmText:"Logout",color:o.palette.secondary.main,hoverColor:o.palette.secondary.dark})]}):Object(u.jsx)(b.a,{component:q.c,to:"/login",variant:"h5",className:s.loginLink,children:"Login"})})]})}),Object(u.jsxs)(Z.a,{className:s.drawer,variant:"permanent",classes:{paper:s.drawerPaper},children:[Object(u.jsx)(Q.a,{}),Object(u.jsx)("div",{className:s.drawerContainer,children:Object(u.jsx)(C.a,{children:Object.values(t).map((function(e,t){return e.icon&&Object(u.jsxs)(S.a,{button:!0,exact:e.exact||!1,component:q.c,activeClassName:s.activeNav,to:e.path,children:[Object(u.jsx)(K.a,{children:Object(u.jsx)(e.icon,{})}),Object(u.jsx)(T.a,{primary:e.name})]},t)}))})})]}),Object(u.jsx)("main",{className:s.content,children:n})]})}var ie=n(223),le=n(224),ue=n(225),je=n(212),de=n(233),be=n(234);function he(){return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)(d.a,{item:!0,container:!0,spacing:3,alignContent:"space-around",style:{textAlign:"center",height:"100%"},children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h6",children:"That's a good start."})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h6",children:"You can keep working on your bot anytime by going back to the workshop."})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h6",children:"Click 'To Glory' to send your bot to the battlefield!"})})]})})}var xe=n(239);function pe(e){var t,n=e.autoFocus,a=e.error,c=e.errorMessages,o=e.label,s=e.line,i=e.updateLine;return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:9,children:Object(u.jsx)(g.a,{fullWidth:!0,children:Object(u.jsx)(xe.a,{autoFocus:n||!1,value:s.text,error:a,helperText:(t=c,t.join("\n")),label:o,variant:"outlined",onChange:function(e){i({text:e.target.value})}})})}),Object(u.jsx)(d.a,{item:!0,xs:3,children:Object(u.jsxs)(g.a,{variant:"outlined",fullWidth:!0,children:[Object(u.jsx)(v.a,{children:"Mood"}),Object(u.jsx)(y.a,{variant:"outlined",label:"Mood",onChange:function(e){i({mood:e.target.value})},value:s.mood,children:W.map((function(e,t){return Object(u.jsx)(w.a,{value:t,children:e},t)}))})]})})]})}function Oe(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=Object(a.useState)(t[0]),i=Object(O.a)(s,2),l=i[0],j=i[1],h=Object(a.useState)(!1),x=Object(O.a)(h,2),p=x[0],m=x[1],f=Object(a.useState)([]),g=Object(O.a)(f,2),v=g[0],y=g[1],w=Object(a.useCallback)((function(){var e=[],t=l.text.length>0;return t||(m(!0),e.push("Greeting must be non-empty")),y(e),n([l]),t}),[l,n]);Object(a.useEffect)((function(){c(w)}),[c,w]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"What's your bot gonna say prior to embarassing your foes?"})}),Object(u.jsx)(pe,{autoFocus:!0,error:p,errorMessages:v,label:"Greeting",line:l,updateLine:function(e){var t=e.text,n=e.mood;j({text:void 0!==t?t:l.text,mood:void 0!==n?n:l.mood})}})]})}function me(e,t){var n=Object(a.useState)(e),r=Object(O.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),c}var fe=Object(j.a)((function(e){return{valid:{"& label.MuiInputLabel-formControl":{color:"green"},"& p.MuiFormHelperText-root":{color:"green"},"& input + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:focus + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:hover + fieldset":{borderColor:"green",borderWidth:2}}}}));function ge(e){return e.length>=3&&e.length<=30}function ve(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=fe(),i=Object(a.useState)(t),l=Object(O.a)(i,2),j=l[0],h=l[1],m=Object(a.useState)(""),f=Object(O.a)(m,2),v=f[0],y=f[1],w=Object(a.useCallback)(Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge(j)){e.next=3;break}return y("Name must be between 3 and 30 characters"),e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,A.get("/unique/bots/".concat(j));case 6:if(e.sent.data.valid){e.next=12;break}return y("That bot name is taken"),e.abrupt("return",!1);case 12:y(""),n(j);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.error(e.t0);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[3,16]])}))),[j,n]),k=Object(a.useState)(!1),C=Object(O.a)(k,2),N=C[0],S=C[1],T=me(j,400);Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge(t)){e.next=3;break}return y(""),e.abrupt("return");case 3:return e.prev=3,e.next=6,A.get("/unique/bots/".concat(t));case 6:e.sent.data.valid||t!==T?y(""):y("That bot name is taken"),S(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(T)}),[T]),Object(a.useEffect)((function(){c(w)}),[c,w]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"First thing's first, give your bot a name"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(g.a,{fullWidth:!0,children:Object(u.jsx)(xe.a,{autoFocus:!0,className:0===v.length&&ge&&N?s.valid:null,error:v.length>0,helperText:0===v.length&&ge&&N?"Valid bot name":v,label:"Name",variant:"outlined",value:j,onChange:function(e){h(e.target.value),y(""),S(!1)}})})})]})}var ye="Question must be non-empty";function we(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=Object(a.useState)(t[0]),i=Object(O.a)(s,2),l=i[0],j=i[1],h=Object(a.useState)(t[1]),x=Object(O.a)(h,2),p=x[0],m=x[1],f=Object(a.useState)(!1),g=Object(O.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(!1),k=Object(O.a)(w,2),C=k[0],N=k[1],S=Object(a.useState)([]),T=Object(O.a)(S,2),B=T[0],M=T[1],W=Object(a.useState)([]),A=Object(O.a)(W,2),F=A[0],E=A[1],L=Object(a.useCallback)((function(){y(!1),N(!1);var e=[],t=[],a=l.text.length>0,r=p.text.length>0;return a||(e.push(ye),y(!0)),r||(t.push(ye),N(!0)),M(e),E(t),n([l,p]),a&&r}),[l,p,n]);Object(a.useEffect)((function(){c(L)}),[c,L]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"Everyone needs a conversation starter"})}),Object(u.jsx)(pe,{autoFocus:!0,label:"Question 1",error:v,errorMessages:B,line:l,updateLine:function(e){var t=e.text,n=e.mood;j({text:void 0!==t?t:l.text,mood:void 0!==n?n:l.mood})}}),Object(u.jsx)(pe,{label:"Question 2",error:C,errorMessages:F,line:p,updateLine:function(e){var t=e.text,n=e.mood;m({text:void 0!==t?t:p.text,mood:void 0!==n?n:p.mood})}})]})}var ke="Response must be non-empty";function Ce(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=Object(a.useState)(t[0]),i=Object(O.a)(s,2),l=i[0],j=i[1],h=Object(a.useState)(t[1]),x=Object(O.a)(h,2),p=x[0],m=x[1],f=Object(a.useState)(!1),g=Object(O.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(!1),k=Object(O.a)(w,2),C=k[0],N=k[1],S=Object(a.useState)([]),T=Object(O.a)(S,2),B=T[0],M=T[1],W=Object(a.useState)([]),A=Object(O.a)(W,2),F=A[0],E=A[1],L=Object(a.useCallback)((function(){y(!1),N(!1);var e=[],t=[],a=l.text.length>0,r=p.text.length>0;return a||(e.push(ke),y(!0)),r||(t.push(ke),N(!0)),M(e),E(t),n([l,p]),a&&r}),[l,p,n]);Object(a.useEffect)((function(){c(L)}),[c,L]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"Time for some trash talk"})}),Object(u.jsx)(pe,{autoFocus:!0,label:"Response 1",error:v,errorMessages:B,line:l,updateLine:function(e){var t=e.text,n=e.mood;j({text:void 0!==t?t:l.text,mood:void 0!==n?n:l.mood})}}),Object(u.jsx)(pe,{label:"Response 2",error:C,errorMessages:F,line:p,updateLine:function(e){var t=e.text,n=e.mood;m({text:void 0!==t?t:p.text,mood:void 0!==n?n:p.mood})}})]})}var Ne=Object(j.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",padding:20},activeStep:{color:e.palette.success.light},stepContainer:{padding:20,flexGrow:1,textAlign:"center"},stepContent:{flexGrow:1,padding:"0 !important",alignContent:"flex-start"},stepButton:{alignSelf:"flex-end",textAlign:"center",display:"flex",justifyContent:"space-evenly"}}}));var Se=n(213),Te=n(214),Be=n(215),Me=n(216),We=n(217),Ae=n(218),Fe=n(219),Ee=n(72),Le=n.n(Ee),Re=Object(j.a)((function(e){return{container:{flexGrow:1},botsContainer:{paddingTop:20,alignContent:"flex-start"},noBots:{marginTop:"20%",marginBottom:20},tableContainer:{padding:20},selectBot:{textDecoration:"none",color:"black",cursor:"pointer","&:hover":{color:"green"}},delete:{"&:hover":{color:"red"}},loadingContainer:{alignContent:"center"},loading:{display:"flex",alignSelf:"center",justifyContent:"center",flexGrow:1}}}));var ze=Object(j.a)((function(e){return{title:{fontSize:40,fontWeight:"bolder",marginTop:30,marginBottom:50},container:{display:"flex",flex:1,flexDirection:"column",textAlign:"center"},directionText:{fontSize:24,padding:20},button:{fontSize:20,margin:"auto",width:"50%"}}}));var Ge=n(232),Ie=n(220),He=Object(j.a)((function(e){return{container:{height:"70%"},row:{overflowWrap:"break-word"},delete:{"&:hover":{color:"red"}}}}));function De(e){var t=e.botID,n=e.lineType,c=e.lines,o=e.min,s=e.refresh,i=He(),l=Object(a.useState)({text:"",mood:0}),j=Object(O.a)(l,2),b=j[0],h=j[1],m=Object(a.useState)(!1),g=Object(O.a)(m,2),v=g[0],y=g[1],w=Object(a.useState)([]),C=Object(O.a)(w,2),N=C[0],S=C[1],T=Object(a.useState)(!1),B=Object(O.a)(T,2),M=B[0],F=B[1],E=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.post("/bots/".concat(t,"/").concat(n),b);case 3:s(),h({text:"",mood:0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(x.a.mark((function e(a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.length<=o)){e.next=3;break}return F(!0),e.abrupt("return");case 3:return e.next=5,A.delete("/bots/".concat(t,"/").concat(n,"/").concat(a));case 5:s();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsxs)(te.a,{onClose:function(){return F(!1)},open:M,children:[Object(u.jsxs)(ne.a,{children:["Must have at least ",o," ",n]}),Object(u.jsx)(ae.a,{style:{justifyContent:"center"},children:Object(u.jsx)(k.a,{autoFocus:!0,onClick:function(){return F(!1)},color:"primary",children:"OK"})})]}),Object(u.jsx)(d.a,{item:!0,xs:12,className:i.container,children:Object(u.jsx)(Te.a,{component:f.a,children:Object(u.jsxs)(Be.a,{stickyHeader:!0,children:[Object(u.jsxs)("colgroup",{children:[Object(u.jsx)("col",{style:{width:"80%"}}),Object(u.jsx)("col",{style:{width:"10%"}}),Object(u.jsx)("col",{style:{width:"10%"}})]}),Object(u.jsx)(Me.a,{children:Object(u.jsxs)(We.a,{children:[Object(u.jsx)(Ae.a,{align:"center",children:"Text"}),Object(u.jsx)(Ae.a,{align:"center",children:"Mood"}),Object(u.jsx)(Ae.a,{align:"center",children:"Delete"})]})}),Object(u.jsx)(Fe.a,{children:c.map((function(e,t){return Object(u.jsxs)(We.a,{hover:!0,className:i.row,children:[Object(u.jsx)(Ae.a,{align:"left",children:e.text}),Object(u.jsx)(Ae.a,{align:"center",children:W[e.mood]}),Object(u.jsx)(Ae.a,{align:"center",children:Object(u.jsx)(ce,{render:function(e){return Object(u.jsx)(U.a,{onClick:e,className:i.delete,children:Object(u.jsx)(Le.a,{})})},onConfirm:function(){return L(t)},prompt:"Are you sure you want to delete this line?",confirmText:"Delete",color:"red",hoverColor:"darkred"})})]},t)}))})]})})}),Object(u.jsxs)(d.a,{container:!0,spacing:3,item:!0,xs:12,children:[Object(u.jsx)(pe,{label:"Add ".concat(n.substr(0,-1)),error:v,errorMessages:N,line:b,updateLine:function(e){var t=e.text,n=e.mood;h({text:void 0!==t?t:b.text,mood:void 0!==n?n:b.mood})}}),Object(u.jsx)(d.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(u.jsx)(k.a,{onClick:function(){y(!1);var e=[],t=b.text.length>0;t||(e.push("Question must be non-empty"),y(!0)),S(e),t&&E()},fullWidth:!0,size:"large",variant:"contained",color:"secondary",children:"Add"})})]})]})}var qe=Object(j.a)((function(e){return{name:{fontSize:30,fontWeight:600,textAlign:"center",padding:5.5},tabContainer:{padding:20,height:"100%",flexGrow:1},generalContainer:{paddingTop:30,textAlign:"center",flexGrow:1,alignContent:"flex-start"},generalSave:{alignSelf:"flex-end"},errorList:{textAlign:"center",color:"red"},loading:{display:"flex",alignSelf:"center",justifyContent:"center",flexGrow:1},valid:{"& label.MuiInputLabel-formControl":{color:"green"},"& p.MuiFormHelperText-root":{color:"green"},"& input + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:focus + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:hover + fieldset":{borderColor:"green",borderWidth:2}}}}));function Pe(e){return e.length>=3&&e.length<=30}function _e(e){var t=e.children,n=e.value,a=e.index,r=Object(i.a)(e,["children","value","index"]),c=qe();return Object(u.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",hidden:n!==a,style:{height:"100%"}},r),{},{children:n===a&&Object(u.jsx)(d.a,{container:!0,className:c.tabContainer,children:t})}))}var Ve=n(221),Je=n(222),Qe=Object(j.a)((function(e){return{title:{paddingTop:60,paddingBottom:50,fontSize:36},formContainer:{width:500,margin:"auto",padding:20},bottomText:{marginTop:-10,textAlign:"center"},link:{textDecoration:"none",color:e.palette.info.main,"&:hover":{color:e.palette.secondary.main}},icon:{alignSelf:"center",fontSize:44,paddingRight:10},failed:{color:"red",fontSize:16,padding:0}}}));var Ue=Object(j.a)((function(e){return{title:{paddingTop:60,paddingBottom:50,fontSize:36},formContainer:{width:600,margin:"auto",padding:20},formRow:{display:"flex",justifyContent:"space-around"},bottomText:{marginTop:-10,textAlign:"center"},link:{textDecoration:"none",color:e.palette.info.main,"&:hover":{color:e.palette.secondary.main}},valid:{"& label.MuiInputLabel-formControl":{color:"green"},"& p.MuiFormHelperText-root":{color:"green"},"& input + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:focus + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:hover + fieldset":{borderColor:"green",borderWidth:2}}}}));var Ze={"/":{name:"Home",path:"/",component:function(){var e=P();return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(b.a,{className:e.title,align:"center",children:"WELCOME TO CHATBOT WARS"}),Object(u.jsxs)("div",{className:e.container,children:[Object(u.jsx)(b.a,{variant:"h6",children:"Build your own chatbot. Watch it crash and burn."}),Object(u.jsx)(k.a,{className:e.button,size:"large",variant:"contained",color:"secondary",component:q.b,to:"/workshop",children:"Get Started"})]})]})},exact:!0,icon:ie.a},"/workshop":{name:"Workshop",path:"/workshop",component:function(e){var t=e.routes,n=Object(l.j)().path;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsx)(l.d,{children:t.map((function(e,t){return e.auth?Object(u.jsx)(Ye,{exact:!0,path:"".concat(n).concat(e.path),children:Object(u.jsx)(e.component,{})},t):Object(u.jsx)(l.b,{exact:!0,path:"".concat(n).concat(e.path),children:Object(u.jsx)(e.component,{})},t)}))})})},icon:le.a,routes:[{path:"/",component:function(){var e=ze();return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(b.a,{className:e.title,align:"center",children:"WELCOME TO THE WORKSHOP"}),Object(u.jsxs)("div",{className:e.container,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(b.a,{className:e.directionText,align:"center",children:"Start off by creating a bot"}),Object(u.jsx)(k.a,{className:e.button,component:q.b,to:"/workshop/create",size:"large",variant:"contained",color:"secondary",children:"Create"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)(b.a,{className:e.directionText,align:"center",children:"Or keep working on existing ones"}),Object(u.jsx)(k.a,{className:e.button,component:q.b,to:"/workshop/edit",size:"large",variant:"contained",color:"secondary",children:"Edit"})]})]})]})},auth:!1},{path:"/create",component:function(){var e=Ne(),t=Object(a.useState)(0),n=Object(O.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(new Set),l=Object(O.a)(i,2),j=l[0],h=l[1],m=function(){return j.size===V.length},f=function(e){return function(){j.has(e)&&o(e)}},g=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Set(j),e.next=3,V[c].validate();case 3:if(e.sent){e.next=8;break}return t.delete(c),h(t),e.abrupt("return");case 8:t.add(c),h(t),j.size!==V.length&&o(c+1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function v(e){return j.has(e)}var y=Object(a.useState)(null),w=Object(O.a)(y,2),C=w[0],N=w[1],S=Object(a.useState)(""),T=Object(O.a)(S,2),B=T[0],M=T[1],W=Object(a.useState)([{text:"",mood:0}]),F=Object(O.a)(W,2),E=F[0],L=F[1],R=Object(a.useState)([{text:"",mood:0},{text:"",mood:0}]),z=Object(O.a)(R,2),G=z[0],I=z[1],H=Object(a.useState)([{text:"",mood:0},{text:"",mood:0}]),D=Object(O.a)(H,2),P=D[0],_=D[1],V=[{title:"Name",component:ve,value:B,handler:M},{title:"Greetings",component:Oe,value:E,handler:L},{title:"Questions",component:we,value:G,handler:I},{title:"Responses",component:Ce,value:P,handler:_},{title:"Finalize",component:he,value:B,handler:null,validate:function(){return!0}}],J=function(){var e=Object(p.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:B,greetings:E,questions:G,responses:P},console.log(t),e.next=4,A.post("/bots",t);case 4:n=e.sent,N(n.data.id),console.log(JSON.stringify(n.data));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:e.root,children:[!m()&&Object(u.jsx)(be.a,{alternativeLabel:!0,nonLinear:!0,activeStep:c,children:V.map((function(e,t){return Object(u.jsx)(je.a,Object(s.a)(Object(s.a)({active:c===t},{}),{},{children:Object(u.jsx)(de.a,Object(s.a)(Object(s.a)({disabled:c!==t&&!v(t),onClick:f(t),completed:c!==t&&v(t)},{}),{},{children:e.title}))}),e.title)}))}),Object(u.jsx)(d.a,{container:!0,direction:"row",spacing:3,className:e.stepContainer,children:m()?Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h4",children:"Bot created successfully!"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(k.a,{to:"/workshop/edit/".concat(C),component:q.b,variant:"contained",color:"secondary",children:"See it in the workshop"})})]}):Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{container:!0,spacing:3,item:!0,xs:12,className:e.stepContent,children:r.a.createElement(V[c].component,{value:V[c].value,updateHandler:V[c].handler,setValidator:function(e){return V[c].validate=e},titleStyle:{padding:"30px 0px"}})}),Object(u.jsxs)(d.a,{item:!0,xs:12,className:e.stepButton,children:[Object(u.jsx)(k.a,{disabled:0===c,onClick:function(){o(c-1)},size:"large",variant:"contained",color:"secondary",children:"Back"}),c!==V.length-1?Object(u.jsx)(k.a,{onClick:g,size:"large",variant:"contained",color:"secondary",children:"Next"}):Object(u.jsx)(k.a,{onClick:function(){J(),g()},size:"large",variant:"contained",color:"secondary",children:"To Glory"})]})]})})]})},auth:!0},{path:"/edit",component:function(){var e=Re(),t=Object(l.g)(),n=Object(a.useState)(!0),c=Object(O.a)(n,2),o=c[0],s=c[1],i=Object(a.useState)([]),j=Object(O.a)(i,2),h=j[0],m=j[1],g=Object(a.useCallback)(Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/users/bots");case 2:t=e.sent,m(t.data),s(!1);case 5:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){g()}),[g]);var v=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.delete("/bots/".concat(t));case 2:g();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(d.a,{container:!0,className:e.container,children:o?Object(u.jsx)(d.a,{item:!0,xs:12,className:e.loading,children:Object(u.jsx)(Se.a,{color:"secondary"})}):Object(u.jsx)(d.a,{container:!0,item:!0,xs:12,className:e.botsContainer,children:h.length>0?Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"Select a bot to edit"})}),Object(u.jsx)(d.a,{item:!0,xs:12,className:e.tableContainer,children:Object(u.jsx)(Te.a,{component:f.a,children:Object(u.jsxs)(Be.a,{stickyHeader:!0,children:[Object(u.jsxs)("colgroup",{children:[Object(u.jsx)("col",{style:{width:"80%"}}),Object(u.jsx)("col",{style:{width:"20%"}})]}),Object(u.jsx)(Me.a,{children:Object(u.jsxs)(We.a,{children:[Object(u.jsx)(Ae.a,{children:"Name"}),Object(u.jsx)(Ae.a,{align:"center",children:"Delete"})]})}),Object(u.jsx)(Fe.a,{children:h.map((function(n,a){return Object(u.jsxs)(We.a,{hover:!0,children:[Object(u.jsx)(Ae.a,{className:e.selectBot,onClick:function(){var e;e=n.id,t.push("/workshop/edit/".concat(e))},align:"left",children:n.name}),Object(u.jsx)(Ae.a,{align:"center",children:Object(u.jsx)(ce,{render:function(t){return Object(u.jsx)(U.a,{onClick:t,className:e.delete,children:Object(u.jsx)(Le.a,{})})},onConfirm:function(){return v(n.id)},prompt:"Are you sure you want to delete this bot?",confirmText:"Delete",color:"red",hoverColor:"darkred"})})]},a)}))})]})})})]}):Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,className:e.noBots,children:Object(u.jsx)(b.a,{variant:"h4",align:"center",children:"You haven't created any bots"})}),Object(u.jsx)(d.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(u.jsx)(k.a,{component:q.b,to:"/workshop/create",variant:"contained",color:"secondary",children:"Create a bot"})})]})})})},auth:!0},{path:"/edit/:id",component:function(){var e=qe(),t=Object(l.i)().id,n=Object(a.useState)(!0),c=Object(O.a)(n,2),o=c[0],i=c[1],j=r.a.useState(0),h=Object(O.a)(j,2),m=h[0],f=h[1],v=Object(a.useState)({}),y=Object(O.a)(v,2),w=y[0],N=y[1],B=Object(a.useState)(""),M=Object(O.a)(B,2),W=M[0],F=M[1],E=Object(a.useState)([]),L=Object(O.a)(E,2),R=L[0],z=L[1],G=Object(a.useState)(!1),I=Object(O.a)(G,2),H=I[0],D=I[1],q=Object(a.useState)(""),P=Object(O.a)(q,2),_=P[0],V=P[1],Q=function(){var e=Object(p.a)(x.a.mark((function e(){var t,n,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n=w.greetings.length>=1,a=w.questions.length>=2,r=w.responses.length>=2,Pe(W)||(V("Name must be between 3 and 30 characters"),t.push("Name must be between 3 and 30 characters")),n||t.push("Must have at least 1 greeting"),a||t.push("Must have at least 2 questions"),r||t.push("Must have at least 2 responses"),Pe(W)&&n&&a&&r){e.next=12;break}return z(t),D(!0),e.abrupt("return");case 12:if(w.name===W){e.next=25;break}return e.prev=13,e.next=16,A.get("/unique/bots/".concat(W));case 16:e.sent.data.valid?(V(""),ee()):V("That bot name is taken"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(13),console.error(e.t0);case 23:e.next=26;break;case 25:V("That's the same name!");case 26:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(){return e.apply(this,arguments)}}(),U=Object(a.useState)(!1),Z=Object(O.a)(U,2),K=Z[0],Y=Z[1],X=me(W,400);Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe(t)){e.next=3;break}return V(""),e.abrupt("return");case 3:return e.prev=3,e.next=6,A.get("/unique/bots/".concat(t));case 6:e.sent.data.valid||t!==X||t===w.name?V(""):V("That bot name is taken"),Y(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(X)}),[X,w.name]);var $=Object(a.useCallback)(Object(p.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/bots/".concat(t));case 2:n=e.sent,N(n.data),F(n.data.name),i(!1);case 6:case"end":return e.stop()}}),e)}))),[t]),ee=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.put("/bots/".concat(t),Object(s.a)(Object(s.a)({},w),{},{name:W}));case 2:$();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){$()}),[$]);var te=K&&0===_.length&&Pe(W)&&W!==w.name;return Object(u.jsxs)(r.a.Fragment,{children:[o?Object(u.jsx)(d.a,{container:!0,style:{flexGrow:1},children:Object(u.jsx)(d.a,{item:!0,xs:12,className:e.loading,children:Object(u.jsx)(Se.a,{color:"secondary"})})}):Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(b.a,{className:e.name,children:w.name}),Object(u.jsx)(J.a,{position:"static",children:Object(u.jsxs)(Ge.a,{value:m,onChange:function(e,t){f(t)},variant:"fullWidth",children:[Object(u.jsx)(Ie.a,{label:"General"}),Object(u.jsx)(Ie.a,{label:"Greetings"}),Object(u.jsx)(Ie.a,{label:"Questions"}),Object(u.jsx)(Ie.a,{label:"Responses"})]})}),Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsxs)(_e,{value:m,index:0,className:e.general,children:[Object(u.jsx)(d.a,{container:!0,spacing:3,item:!0,xs:12,className:e.generalContainer,children:Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(g.a,{fullWidth:!0,children:Object(u.jsx)(xe.a,{autoFocus:!0,className:te?e.valid:null,error:_.length>0,helperText:te?"Valid bot name":_,label:"Name",variant:"outlined",value:W,onChange:function(e){F(e.target.value),V(""),Y(!1)}})})})}),H&&Object(u.jsx)(d.a,{item:!0,xs:12,className:e.errorList,children:Object(u.jsx)(C.a,{subheader:"Please fix the following errors",children:R.map((function(t,n){return Object(u.jsx)(S.a,{children:Object(u.jsx)(T.a,{primary:t,className:e.errorList})},n)}))})}),Object(u.jsx)(d.a,{item:!0,xs:12,className:e.generalSave,children:Object(u.jsx)(k.a,{onClick:Q,fullWidth:!0,size:"large",variant:"contained",color:"secondary",children:"Save"})})]}),Object(u.jsx)(_e,{value:m,index:1,children:Object(u.jsx)(De,{botID:w.id,lineType:"greetings",lines:w.greetings,min:1,refresh:$})}),Object(u.jsx)(_e,{value:m,index:2,children:Object(u.jsx)(De,{botID:w.id,lineType:"questions",lines:w.questions,min:2,refresh:$})}),Object(u.jsx)(_e,{value:m,index:3,children:Object(u.jsx)(De,{botID:w.id,lineType:"responses",lines:w.responses,min:2,refresh:$})})]})]})," "]})},auth:!0}]},"/fight":{name:"Fight",path:"/fight",component:function(){var e=D();return Object(u.jsxs)(d.a,{container:!0,className:e.container,children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{className:e.title,align:"center",children:"WELCOME TO THE DEATH ZONE"})}),Object(u.jsx)(d.a,{item:!0,xs:12,className:e.fightZone,children:Object(u.jsx)(H,{})})]})},icon:ue.a},"/login":{name:"Login",path:"/login",component:function(){var e=Qe(),t=ee().login,n=Object(l.g)(),c=Object(l.h)(),o=Object(a.useState)({username:"",password:""}),i=Object(O.a)(o,2),j=i[0],h=i[1],m=Object(a.useState)({username:"",password:""}),g=Object(O.a)(m,2),v=g[0],y=g[1],w=Object(a.useState)(!1),C=Object(O.a)(w,2),N=C[0],S=C[1],T=function(){var e=Object(p.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={username:"",password:""},n=!0,0===j.username.length&&(t.username="Username must not be empty",n=!1),0===j.password.length&&(t.password="Password must not be empty",n=!1),n&&M(),y((function(){return t}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=(c.state||{from:{pathname:"/"}}).from;function M(){return W.apply(this,arguments)}function W(){return(W=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(j.username,j.password);case 3:n.replace(B),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),S(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)(d.a,{container:!0,direction:"row",style:{margin:0},children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{className:e.title,align:"center",children:"Login to edit your bots"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)(d.a,{container:!0,spacing:4,component:f.a,className:e.formContainer,elevation:6,children:[N&&Object(u.jsx)(d.a,{item:!0,xs:12,className:e.failed,children:Object(u.jsx)(b.a,{align:"center",children:"Invalid username or password"})}),Object(u.jsxs)(d.a,{item:!0,xs:12,style:{display:"flex"},children:[Object(u.jsx)(Ve.a,{className:e.icon,color:"action"}),Object(u.jsx)(xe.a,{error:0===j.username.length&&v.username.length>0,helperText:0===j.username.length?v.username:"",onChange:function(e){return h(Object(s.a)(Object(s.a)({},j),{},{username:e.target.value}))},label:"Username",variant:"outlined",style:{flexGrow:1}})]}),Object(u.jsxs)(d.a,{item:!0,xs:12,style:{display:"flex"},children:[Object(u.jsx)(Je.a,{className:e.icon,color:"action"}),Object(u.jsx)(xe.a,{error:0===j.password.length&&v.password.length>0,helperText:0===j.password.length?v.password:"",onChange:function(e){return h(Object(s.a)(Object(s.a)({},j),{},{password:e.target.value}))},type:"password",label:"Password",variant:"outlined",style:{flexGrow:1}})]}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(k.a,{onClick:T,fullWidth:!0,variant:"contained",color:"secondary",style:{},children:"Log In"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)("p",{className:e.bottomText,children:["Not registered? ",Object(u.jsx)(q.b,{to:"/register",className:e.link,children:"Click here to create an account"})]})})]})})]})})},noAuth:!0},"/register":{name:"Register",path:"/register",component:function(){var e=Ue(),t=ee(),n=t.register,c=t.login,o=Object(l.g)(),i=Object(l.h)(),j=Object(a.useState)({firstName:"",lastName:"",username:"",password:""}),h=Object(O.a)(j,2),m=h[0],g=h[1],v=Object(a.useState)({firstName:"",lastName:"",username:"",password:""}),y=Object(O.a)(v,2),w=y[0],C=y[1],N=Object(a.useState)(!1),S=Object(O.a)(N,2),T=S[0],B=S[1],M=me(m.username,400);Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,A.get("/unique/users/".concat(t));case 5:e.sent.data.valid||t!==M?C((function(e){return Object(s.a)(Object(s.a)({},e),{},{username:""})})):C((function(e){return Object(s.a)(Object(s.a)({},e),{},{username:"That username is taken"})})),B(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(M)}),[M]);var W=(i.state||{from:{pathname:"/"}}).from;function F(){return(F=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(m);case 3:return e.next=5,c(m.username,m.password);case 5:o.replace(W),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)(d.a,{container:!0,direction:"row",style:{margin:0},children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{className:e.title,align:"center",children:"Register to create your own bots"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)(d.a,{container:!0,spacing:4,component:f.a,className:e.formContainer,elevation:6,children:[Object(u.jsxs)(d.a,{item:!0,xs:12,className:e.formRow,children:[Object(u.jsx)(xe.a,{error:0===m.firstName.length&&w.firstName.length>0,helperText:0===m.firstName.length?w.firstName:"",onChange:function(e){return g(Object(s.a)(Object(s.a)({},m),{},{firstName:e.target.value}))},label:"First Name",variant:"outlined"}),Object(u.jsx)(xe.a,{error:0===m.lastName.length&&w.lastName.length>0,helperText:0===m.lastName.length?w.lastName:"",onChange:function(e){return g(Object(s.a)(Object(s.a)({},m),{},{lastName:e.target.value}))},label:"Last Name",variant:"outlined"})]}),Object(u.jsxs)(d.a,{item:!0,xs:12,className:e.formRow,children:[Object(u.jsx)(xe.a,{className:0===w.username.length&&m.username.length>0&&T?e.valid:null,error:w.username.length>0,helperText:0===w.username.length&&0!==m.username.length&&T?"Valid username":w.username,onChange:function(e){g(Object(s.a)(Object(s.a)({},m),{},{username:e.target.value})),C(Object(s.a)(Object(s.a)({},w),{},{username:""})),B(!1)},label:"Username",variant:"outlined"}),Object(u.jsx)(xe.a,{error:0===m.password.length&&w.password.length>0,helperText:0===m.password.length?w.password:"",onChange:function(e){return g(Object(s.a)(Object(s.a)({},m),{},{password:e.target.value}))},type:"password",label:"Password",variant:"outlined"})]}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(k.a,{onClick:function(){var e={firstName:"",lastName:"",username:w.username,password:""},t=!0;0===m.firstName.length&&(e.firstName="First name must not be empty",t=!1),0===m.lastName.length&&(e.lastName="Last name must not be empty",t=!1),0===m.username.length&&(e.username="Username must not be empty",t=!1),0===m.password.length&&(e.password="Password must not be empty",t=!1),t&&function(){F.apply(this,arguments)}(),C((function(){return e}))},fullWidth:!0,variant:"contained",color:"secondary",children:"Register"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)("p",{className:e.bottomText,children:["Already a user? ",Object(u.jsx)(q.b,{to:"/login",className:e.link,children:"Click here to login"})]})})]})})]})})},noAuth:!0}};function Ke(){return Object(u.jsx)(q.a,{children:Object(u.jsx)(se,{routes:Ze,children:Object(u.jsxs)(l.d,{children:[Object.values(Ze).map((function(e,t){return e.auth?Object(u.jsx)(Ye,{exact:e.exact||!1,path:e.path,children:Object(u.jsx)(e.component,{routes:e.routes})},t):e.noAuth?Object(u.jsx)(Xe,{exact:e.exact||!1,path:e.path,children:Object(u.jsx)(e.component,{routes:e.routes})},t):Object(u.jsx)(l.b,{exact:e.exact||!1,path:e.path,children:Object(u.jsx)(e.component,{routes:e.routes})},t)})),Object(u.jsx)(l.b,{path:"*",render:function(e){var t=e.location;return Object(u.jsx)(l.a,{to:{pathname:"/",state:{from:t}}})}})]})})})}function Ye(e){var t=e.children,n=Object(i.a)(e,["children"]),a=ee().user;return Object(u.jsx)(l.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(u.jsx)(l.a,{to:{pathname:"/login",state:{from:n}}})}}))}function Xe(e){var t=e.children,n=Object(i.a)(e,["children"]),a=ee().user;return Object(u.jsx)(l.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){e.location;return a?Object(u.jsx)(l.a,{to:{pathname:"/"}}):t}}))}var $e=n(229),et=n(226),tt=n(227),nt=n(228),at=Object(et.a)({palette:{primary:{light:tt.a[300],main:tt.a[600],dark:tt.a[900],contrastText:"#fff"},secondary:{light:nt.a[500],main:nt.a[600],dark:nt.a[800],contrastText:"#000"}},layout:{nav:{appBarHeight:64}}});function rt(){return Object(u.jsx)($,{children:Object(u.jsx)($e.a,{theme:at,children:Object(u.jsx)(Ke,{})})})}o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(rt,{})}),document.getElementById("root"))}},[[153,1,2]]]);
//# sourceMappingURL=main.792a53ac.chunk.js.map