(this["webpackJsonpchatbot-wars"]=this["webpackJsonpchatbot-wars"]||[]).push([[0],{154:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),s=n(11),i=n(59),l=n(17),u=n(1);var j=n(191),d=n(197),b=n(60),h=n(104),x=n(8),p=n.n(x),O=n(99),m=n(13),f=n(7),g=n(108),v=n(198),y=n(237),w=n(232),k=n(201),C=n(202),N=n(193),S=n(203),T=n(156),B=n(195),F=n(100),W=n.n(F).a.create({baseURL:"/api"});W.interceptors.request.use((function(e){var t=localStorage.getItem("jwt_token");return e.headers.Authorization="Bearer ".concat(t),e}),(function(e){return Promise.reject(e)}));var M=["Happy","Angry","Sad"],L=W,A=n(231),E=n(196),z=Object(j.a)((function(e){return{container:{flexGrow:1,maxHeight:"100%"},line:{display:"flex"},name:{fontWeight:700}}}));function G(e){var t=e.roomHash,n=e.scrollContainerRef,c=z(),o=Object(a.useRef)(null),s=Object(a.useState)([]),i=Object(f.a)(s,2),l=i[0],j=i[1];return Object(a.useEffect)((function(){var e=n.current;o.current&&e.scrollHeight-e.clientHeight-e.scrollTop<80&&o.current.scrollIntoView({behaviour:"smooth"})}),[l.length,n]),Object(a.useEffect)((function(){var e=setInterval(Object(m.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("/rooms/".concat(t));case 2:n=e.sent,j(n.data);case 4:case"end":return e.stop()}}),e)}))),1e3);return function(){clearInterval(e),L.delete("/rooms/".concat(t))}}),[t]),Object(u.jsx)(A.a,{className:c.container,children:Object(u.jsx)(N.a,{children:0===l.length?Object(u.jsx)(T.a,{children:Object(u.jsx)(B.a,{primary:"Waiting for messages..."})}):l.map((function(e,t){return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(T.a,{ref:t===l.length-1?o:null,children:Object(u.jsxs)(A.a,{className:"MuiListItemText-root MuiListItemText-multiline",children:[Object(u.jsxs)("p",{className:"MuiTypography-root MuiListItemText-primary MuiTypography-body1 MuiTypography-displayBlock",children:[Object(u.jsx)("strong",{children:e.name}),": ",e.line.text]}),Object(u.jsx)("p",{className:"MuiTypography-root MuiListItemText-secondary MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-displayBlock",children:M[e.line.mood]})]})}),t!==l.length-1&&Object(u.jsx)(E.a,{})]},t)}))})})}var H=Object(j.a)((function(e){return{container:{flexGrow:1,height:"100%",border:"1px solid #bbb"},sideBar:{borderRight:"1px solid grey",alignContent:"flex-start"},select:{padding:10,borderBottom:"1px solid grey"},addButton:{marginTop:5},notStartedContainer:{textAlign:"center",justifyContent:"center",alignContent:"center"},notStartedMsg:{textAlign:"center",fontSize:20},transcriptContainer:{overflow:"auto",maxHeight:"100%"}}}));function I(){var e=H(),t=Object(a.useRef)(null),n=Object(a.useState)([]),r=Object(f.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)([]),i=Object(f.a)(s,2),l=i[0],j=i[1],b=Object(a.useState)(""),x=Object(f.a)(b,2),F=x[0],W=x[1],M=Object(a.useState)(""),A=Object(f.a)(M,2),E=A[0],z=A[1],I=Object(a.useState)(!1),R=Object(f.a)(I,2),D=R[0],q=R[1],P=function(){var e=Object(m.a)(p.a.mark((function e(){var t,n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.post("/rooms");case 2:t=e.sent,W(t.data.hash),n=Object(O.a)(l),e.prev=5,n.s();case 7:if((a=n.n()).done){e.next=13;break}return r=a.value,e.next=11,L.put("/rooms/".concat(t.data.hash,"/").concat(r.id));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:q(!0);case 22:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){(function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("/bots");case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[F]);return Object(u.jsxs)(d.a,{component:g.a,elevation:3,container:!0,item:!0,xs:12,className:e.container,children:[Object(u.jsxs)(d.a,{container:!0,item:!0,xs:3,className:e.sideBar,children:[Object(u.jsx)(d.a,{item:!0,xs:12,className:e.select,children:Object(u.jsxs)(v.a,{variant:"outlined",fullWidth:!0,children:[Object(u.jsx)(y.a,{children:"Add a bot"}),Object(u.jsxs)(w.a,{variant:"outlined",label:"Add a bot",onChange:function(e){z(e.target.value)},value:E,children:[Object(u.jsx)(k.a,{value:"",children:Object(u.jsx)("em",{children:"None"})}),c.map((function(e,t){return Object(u.jsx)(k.a,{value:t,children:e.name},t)}))]}),Object(u.jsx)(C.a,{onClick:function(){if(""!==E){var e=c[E];l.some((function(t){return t.id===e.id}))||(D&&L.put("/rooms/".concat(F,"/").concat(e.id)),j([].concat(Object(h.a)(l),[{name:e.name,id:e.id}])))}},variant:"contained",color:"secondary",className:e.addButton,children:"Add"})]})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)(N.a,{children:[Object(u.jsx)(S.a,{style:{textAlign:"center"},children:"Current Bots"}),l.map((function(e,t){return Object(u.jsx)(T.a,{children:Object(u.jsx)(B.a,{primary:e.name})},t)}))]})})]}),Object(u.jsx)(d.a,{container:!0,item:!0,xs:9,className:e.transcriptContainer,ref:t,children:D?Object(u.jsx)(G,{roomHash:F,scrollContainerRef:t}):Object(u.jsx)(d.a,{container:!0,className:e.notStartedContainer,item:!0,xs:12,children:Object(u.jsxs)(d.a,{item:!0,xs:12,children:[Object(u.jsx)("p",{className:e.notStartedMsg,children:"Start the room to see messages"}),Object(u.jsx)(C.a,{onClick:P,variant:"contained",color:"secondary",children:"Start"})]})})})]})}var R=Object(j.a)((function(e){return{container:{paddingTop:30,flexGrow:1,alignContent:"flex-start"},title:{fontSize:30,fontWeight:"bold"},fightZone:{flexGrow:1,padding:20,height:"80vh"}}}));var D=n(18),q=Object(j.a)((function(e){return{container:{display:"flex",flex:1,flexDirection:"column",textAlign:"center",justifyContent:"space-around"},title:{fontSize:40,fontWeight:"bolder",marginTop:30,marginBottom:50},feature:{marginTop:50,flexGrow:1},button:{margin:"0 30%",marginTop:20,marginBottom:200,fontSize:30,padding:"20px 40px"}}}));var P=n(24),V=n(207),Q=n(208),U=n(209),_=n(210),J=n(239),Z=n(212),K=n(211),Y=Object(a.createContext)();function X(e){var t=e.children,n=function(){var e=Object(a.useState)(!0),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==localStorage.getItem("jwt_token")){e.next=14;break}return e.prev=2,e.next=5,L.get("/me");case 5:t=e.sent,r(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:e.next=15;break;case 14:r(!1);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}e()}),[]),{user:n,register:function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post("/users",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(m.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post("/sessions",{username:t,password:n});case 3:return a=e.sent,localStorage.setItem("jwt_token",a.data.token),r(a.data.user),e.abrupt("return",!0);case 9:throw e.prev=9,e.t0=e.catch(0),Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){localStorage.removeItem("jwt_token"),r((function(){return!1}))}}}();return Object(u.jsx)(Y.Provider,{value:n,children:t})}var $=function(){return Object(a.useContext)(Y)};var ee=n(204),te=n(205),ne=n(206),ae=Object(j.a)((function(e){return{confirmButton:{backgroundColor:function(e){return e.color},"&:hover":{backgroundColor:function(e){return e.hoverColor}}}}}));function re(e){var t=e.onConfirm,n=e.prompt,c=e.confirmText,o=e.render,s=ae(e),i=Object(a.useState)(!1),l=Object(f.a)(i,2),j=l[0],d=l[1],b=function(){d(!1)};return Object(u.jsxs)(r.a.Fragment,{children:[o&&o((function(){d(!0)})),Object(u.jsxs)(ee.a,{onClose:b,open:j,children:[Object(u.jsx)(te.a,{children:n}),Object(u.jsxs)(ne.a,{style:{justifyContent:"center",marginBottom:10},children:[Object(u.jsx)(C.a,{autoFocus:!0,onClick:b,variant:"contained",color:"primary",children:"Cancel"}),Object(u.jsx)(C.a,{onClick:function(){t(),b()},variant:"contained",className:s.confirmButton,children:c})]})]})]})}var ce=Object(j.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:e.palette.primary.dark},dividerColor:{backgroundColor:e.palette.primary.contrastText},appBarLeft:{width:240,flexShrink:1,fontSize:30,fontWeight:500},appBarRight:{textAlign:"right",flexGrow:1,paddingRight:20,fontSize:30},loginLink:{textDecoration:"none",color:e.palette.primary.contrastText,"&:hover":{color:e.palette.secondary.main}},logoutContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},logoutButton:{color:"white","&:hover":{color:e.palette.secondary.main}},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},activeNav:{fontWeight:"bold",color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.main}},content:{paddingTop:e.layout.nav.appBarHeight,flexGrow:1,height:"100vh",display:"flex",flexDirection:"column",overflowX:"hidden"}}}));function oe(e){var t=e.routes,n=e.children,a=$(),r=a.user,c=a.logout,o=Object(P.a)(),s=ce(),i=Object(l.g)();return Object(u.jsxs)("div",{className:s.root,children:[Object(u.jsx)(V.a,{}),Object(u.jsx)(Q.a,{position:"fixed",className:s.appBar,children:Object(u.jsxs)(U.a,{disableGutters:!0,className:s.headerContainer,children:[Object(u.jsx)(b.a,{className:s.appBarLeft,variant:"h4",align:"center",noWrap:!0,children:"Chatbot Wars"}),Object(u.jsx)("div",{className:s.appBarRight,children:r?Object(u.jsxs)("div",{className:s.logoutContainer,children:[Object(u.jsxs)(b.a,{variant:"h5",style:{alignSelf:"center"},children:["Hi, ",r.username]}),Object(u.jsx)(re,{}),Object(u.jsx)(re,{render:function(e){return Object(u.jsx)(_.a,{onClick:e,className:s.logoutButton,children:Object(u.jsx)(K.a,{})})},onConfirm:function(){c(),i.push("/")},prompt:"Are you sure you want to log out?",confirmText:"Logout",color:o.palette.secondary.main,hoverColor:o.palette.secondary.dark})]}):Object(u.jsx)(b.a,{component:D.c,to:"/login",variant:"h5",className:s.loginLink,children:"Login"})})]})}),Object(u.jsxs)(J.a,{className:s.drawer,variant:"permanent",classes:{paper:s.drawerPaper},children:[Object(u.jsx)(U.a,{}),Object(u.jsx)("div",{className:s.drawerContainer,children:Object(u.jsx)(N.a,{children:Object.values(t).map((function(e,t){return e.icon&&Object(u.jsxs)(T.a,{button:!0,exact:e.exact||!1,component:D.c,activeClassName:s.activeNav,to:e.path,children:[Object(u.jsx)(Z.a,{children:Object(u.jsx)(e.icon,{})}),Object(u.jsx)(B.a,{primary:e.name})]},t)}))})})]}),Object(u.jsx)("main",{className:s.content,children:n})]})}var se=n(224),ie=n(225),le=n(226),ue=n(213),je=n(234),de=n(235);function be(){return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)(d.a,{item:!0,container:!0,spacing:3,alignContent:"space-around",style:{textAlign:"center",height:"100%"},children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h6",children:"That's a good start."})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h6",children:"You can keep working on your bot anytime by going back to the workshop."})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h6",children:"Click 'To Glory' to send your bot to the battlefield!"})})]})})}var he=n(240);function xe(e){var t,n=e.autoFocus,a=e.error,c=e.errorMessages,o=e.label,s=e.line,i=e.updateLine;return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:9,children:Object(u.jsx)(v.a,{fullWidth:!0,children:Object(u.jsx)(he.a,{autoFocus:n||!1,value:s.text,error:a,helperText:(t=c,t.join("\n")),label:o,variant:"outlined",onChange:function(e){i({text:e.target.value})}})})}),Object(u.jsx)(d.a,{item:!0,xs:3,children:Object(u.jsxs)(v.a,{variant:"outlined",fullWidth:!0,children:[Object(u.jsx)(y.a,{children:"Mood"}),Object(u.jsx)(w.a,{variant:"outlined",label:"Mood",onChange:function(e){i({mood:e.target.value})},value:s.mood,children:M.map((function(e,t){return Object(u.jsx)(k.a,{value:t,children:e},t)}))})]})})]})}function pe(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=Object(a.useState)(t[0]),i=Object(f.a)(s,2),l=i[0],j=i[1],h=Object(a.useState)(!1),x=Object(f.a)(h,2),p=x[0],O=x[1],m=Object(a.useState)([]),g=Object(f.a)(m,2),v=g[0],y=g[1],w=Object(a.useCallback)((function(){var e=[],t=l.text.length>0;return t||(O(!0),e.push("Greeting must be non-empty")),y(e),n([l]),t}),[l,n]);Object(a.useEffect)((function(){c(w)}),[c,w]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"What's your bot gonna say prior to embarassing your foes?"})}),Object(u.jsx)(xe,{autoFocus:!0,error:p,errorMessages:v,label:"Greeting",line:l,updateLine:function(e){var t=e.text,n=e.mood;j({text:void 0!==t?t:l.text,mood:void 0!==n?n:l.mood})}})]})}function Oe(e,t){var n=Object(a.useState)(e),r=Object(f.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),c}var me=Object(j.a)((function(e){return{valid:{"& label.MuiInputLabel-formControl":{color:"green"},"& p.MuiFormHelperText-root":{color:"green"},"& input + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:focus + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:hover + fieldset":{borderColor:"green",borderWidth:2}}}}));function fe(e){return e.length>=3&&e.length<=30}function ge(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=me(),i=Object(a.useState)(t),l=Object(f.a)(i,2),j=l[0],h=l[1],x=Object(a.useState)(""),O=Object(f.a)(x,2),g=O[0],y=O[1],w=Object(a.useCallback)(Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe(j)){e.next=3;break}return y("Name must be between 3 and 30 characters"),e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,L.get("/unique/bots/".concat(j));case 6:if(e.sent.data.valid){e.next=12;break}return y("That bot name is taken"),e.abrupt("return",!1);case 12:y(""),n(j);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.error(e.t0);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[3,16]])}))),[j,n]),k=Object(a.useState)(!1),C=Object(f.a)(k,2),N=C[0],S=C[1],T=Oe(j,400);Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe(t)){e.next=3;break}return y(""),e.abrupt("return");case 3:return e.prev=3,e.next=6,L.get("/unique/bots/".concat(t));case 6:e.sent.data.valid||t!==T?y(""):y("That bot name is taken"),S(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(T)}),[T]),Object(a.useEffect)((function(){c(w)}),[c,w]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"First thing's first, give your bot a name"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(v.a,{fullWidth:!0,children:Object(u.jsx)(he.a,{autoFocus:!0,className:0===g.length&&fe&&N?s.valid:null,error:g.length>0,helperText:0===g.length&&fe&&N?"Valid bot name":g,label:"Name",variant:"outlined",value:j,onChange:function(e){h(e.target.value),y(""),S(!1)}})})})]})}var ve="Question must be non-empty";function ye(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=Object(a.useState)(t[0]),i=Object(f.a)(s,2),l=i[0],j=i[1],h=Object(a.useState)(t[1]),x=Object(f.a)(h,2),p=x[0],O=x[1],m=Object(a.useState)(!1),g=Object(f.a)(m,2),v=g[0],y=g[1],w=Object(a.useState)(!1),k=Object(f.a)(w,2),C=k[0],N=k[1],S=Object(a.useState)([]),T=Object(f.a)(S,2),B=T[0],F=T[1],W=Object(a.useState)([]),M=Object(f.a)(W,2),L=M[0],A=M[1],E=Object(a.useCallback)((function(){y(!1),N(!1);var e=[],t=[],a=l.text.length>0,r=p.text.length>0;return a||(e.push(ve),y(!0)),r||(t.push(ve),N(!0)),F(e),A(t),n([l,p]),a&&r}),[l,p,n]);Object(a.useEffect)((function(){c(E)}),[c,E]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"Everyone needs a conversation starter"})}),Object(u.jsx)(xe,{autoFocus:!0,label:"Question 1",error:v,errorMessages:B,line:l,updateLine:function(e){var t=e.text,n=e.mood;j({text:void 0!==t?t:l.text,mood:void 0!==n?n:l.mood})}}),Object(u.jsx)(xe,{label:"Question 2",error:C,errorMessages:L,line:p,updateLine:function(e){var t=e.text,n=e.mood;O({text:void 0!==t?t:p.text,mood:void 0!==n?n:p.mood})}})]})}var we="Response must be non-empty";function ke(e){var t=e.value,n=e.updateHandler,c=e.setValidator,o=e.titleStyle,s=Object(a.useState)(t[0]),i=Object(f.a)(s,2),l=i[0],j=i[1],h=Object(a.useState)(t[1]),x=Object(f.a)(h,2),p=x[0],O=x[1],m=Object(a.useState)(!1),g=Object(f.a)(m,2),v=g[0],y=g[1],w=Object(a.useState)(!1),k=Object(f.a)(w,2),C=k[0],N=k[1],S=Object(a.useState)([]),T=Object(f.a)(S,2),B=T[0],F=T[1],W=Object(a.useState)([]),M=Object(f.a)(W,2),L=M[0],A=M[1],E=Object(a.useCallback)((function(){y(!1),N(!1);var e=[],t=[],a=l.text.length>0,r=p.text.length>0;return a||(e.push(we),y(!0)),r||(t.push(we),N(!0)),F(e),A(t),n([l,p]),a&&r}),[l,p,n]);Object(a.useEffect)((function(){c(E)}),[c,E]);return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,style:o,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"Time for some trash talk"})}),Object(u.jsx)(xe,{autoFocus:!0,label:"Response 1",error:v,errorMessages:B,line:l,updateLine:function(e){var t=e.text,n=e.mood;j({text:void 0!==t?t:l.text,mood:void 0!==n?n:l.mood})}}),Object(u.jsx)(xe,{label:"Response 2",error:C,errorMessages:L,line:p,updateLine:function(e){var t=e.text,n=e.mood;O({text:void 0!==t?t:p.text,mood:void 0!==n?n:p.mood})}})]})}var Ce=Object(j.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",padding:20},activeStep:{color:e.palette.success.light},stepContainer:{padding:20,flexGrow:1,textAlign:"center"},stepContent:{flexGrow:1,padding:"0 !important",alignContent:"flex-start"},stepButton:{alignSelf:"flex-end",textAlign:"center",display:"flex",justifyContent:"space-evenly"}}}));var Ne=n(214),Se=n(215),Te=n(216),Be=n(217),Fe=n(218),We=n(219),Me=n(220),Le=n(72),Ae=n.n(Le),Ee=Object(j.a)((function(e){return{container:{flexGrow:1},botsContainer:{paddingTop:20,alignContent:"flex-start"},noBots:{marginTop:"20%",marginBottom:20},tableContainer:{padding:20},selectBot:{textDecoration:"none",color:"black",cursor:"pointer","&:hover":{color:"green"}},delete:{"&:hover":{color:"red"}},loadingContainer:{alignContent:"center"},loading:{display:"flex",alignSelf:"center",justifyContent:"center",flexGrow:1}}}));var ze=Object(j.a)((function(e){return{title:{fontSize:40,fontWeight:"bolder",marginTop:30,marginBottom:50},container:{display:"flex",flex:1,flexDirection:"column",textAlign:"center"},directionText:{fontSize:24,padding:20},button:{fontSize:20,margin:"auto",width:"50%"}}}));var Ge=n(233),He=n(221),Ie=Object(j.a)((function(e){return{container:{height:"70%"},row:{overflowWrap:"break-word"},delete:{"&:hover":{color:"red"}}}}));function Re(e){var t=e.botID,n=e.lineType,c=e.lines,o=e.min,s=e.refresh,i=Ie(),l=Object(a.useState)({text:"",mood:0}),j=Object(f.a)(l,2),b=j[0],h=j[1],x=Object(a.useState)(!1),O=Object(f.a)(x,2),v=O[0],y=O[1],w=Object(a.useState)([]),k=Object(f.a)(w,2),N=k[0],S=k[1],T=Object(a.useState)(!1),B=Object(f.a)(T,2),F=B[0],W=B[1],A=function(){var e=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post("/bots/".concat(t,"/").concat(n),b);case 3:s(),h({text:"",mood:0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.length<=o)){e.next=3;break}return W(!0),e.abrupt("return");case 3:return e.next=5,L.delete("/bots/".concat(t,"/").concat(n,"/").concat(a));case 5:s();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsxs)(ee.a,{onClose:function(){return W(!1)},open:F,children:[Object(u.jsxs)(te.a,{children:["Must have at least ",o," ",n]}),Object(u.jsx)(ne.a,{style:{justifyContent:"center"},children:Object(u.jsx)(C.a,{autoFocus:!0,onClick:function(){return W(!1)},color:"primary",children:"OK"})})]}),Object(u.jsx)(d.a,{item:!0,xs:12,className:i.container,children:Object(u.jsx)(Se.a,{component:g.a,children:Object(u.jsxs)(Te.a,{stickyHeader:!0,children:[Object(u.jsxs)("colgroup",{children:[Object(u.jsx)("col",{style:{width:"80%"}}),Object(u.jsx)("col",{style:{width:"10%"}}),Object(u.jsx)("col",{style:{width:"10%"}})]}),Object(u.jsx)(Be.a,{children:Object(u.jsxs)(Fe.a,{children:[Object(u.jsx)(We.a,{align:"center",children:"Text"}),Object(u.jsx)(We.a,{align:"center",children:"Mood"}),Object(u.jsx)(We.a,{align:"center",children:"Delete"})]})}),Object(u.jsx)(Me.a,{children:c.map((function(e,t){return Object(u.jsxs)(Fe.a,{hover:!0,className:i.row,children:[Object(u.jsx)(We.a,{align:"left",children:e.text}),Object(u.jsx)(We.a,{align:"center",children:M[e.mood]}),Object(u.jsx)(We.a,{align:"center",children:Object(u.jsx)(re,{render:function(e){return Object(u.jsx)(_.a,{onClick:e,className:i.delete,children:Object(u.jsx)(Ae.a,{})})},onConfirm:function(){return E(t)},prompt:"Are you sure you want to delete this line?",confirmText:"Delete",color:"red",hoverColor:"darkred"})})]},t)}))})]})})}),Object(u.jsxs)(d.a,{container:!0,spacing:3,item:!0,xs:12,children:[Object(u.jsx)(xe,{label:"Add ".concat(n.substr(0,-1)),error:v,errorMessages:N,line:b,updateLine:function(e){var t=e.text,n=e.mood;h({text:void 0!==t?t:b.text,mood:void 0!==n?n:b.mood})}}),Object(u.jsx)(d.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(u.jsx)(C.a,{onClick:function(){y(!1);var e=[],t=b.text.length>0;t||(e.push("Question must be non-empty"),y(!0)),S(e),t&&A()},fullWidth:!0,size:"large",variant:"contained",color:"secondary",children:"Add"})})]})]})}var De=Object(j.a)((function(e){return{name:{fontSize:30,fontWeight:600,textAlign:"center",padding:5.5},tabContainer:{padding:20,height:"100%",flexGrow:1},generalContainer:{paddingTop:30,textAlign:"center",flexGrow:1,alignContent:"flex-start"},generalSave:{alignSelf:"flex-end"},errorList:{textAlign:"center",color:"red"},loading:{display:"flex",alignSelf:"center",justifyContent:"center",flexGrow:1},valid:{"& label.MuiInputLabel-formControl":{color:"green"},"& p.MuiFormHelperText-root":{color:"green"},"& input + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:focus + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:hover + fieldset":{borderColor:"green",borderWidth:2}}}}));function qe(e){return e.length>=3&&e.length<=30}function Pe(e){var t=e.children,n=e.value,a=e.index,r=Object(i.a)(e,["children","value","index"]),c=De();return Object(u.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",hidden:n!==a,style:{height:"100%"}},r),{},{children:n===a&&Object(u.jsx)(d.a,{container:!0,className:c.tabContainer,children:t})}))}var Ve=n(222),Qe=n(223),Ue=Object(j.a)((function(e){return{title:{paddingTop:60,paddingBottom:50,fontSize:36},formContainer:{width:500,margin:"auto",padding:20},bottomText:{marginTop:-10,textAlign:"center"},link:{textDecoration:"none",color:e.palette.info.main,"&:hover":{color:e.palette.secondary.main}},icon:{alignSelf:"center",fontSize:44,paddingRight:10},failed:{color:"red",fontSize:16,padding:0}}}));var _e=Object(j.a)((function(e){return{title:{paddingTop:60,paddingBottom:50,fontSize:36},formContainer:{width:600,margin:"auto",padding:20},formRow:{display:"flex",justifyContent:"space-around"},bottomText:{marginTop:-10,textAlign:"center"},link:{textDecoration:"none",color:e.palette.info.main,"&:hover":{color:e.palette.secondary.main}},valid:{"& label.MuiInputLabel-formControl":{color:"green"},"& p.MuiFormHelperText-root":{color:"green"},"& input + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:focus + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:hover + fieldset":{borderColor:"green",borderWidth:2}}}}));var Je={"/":{name:"Home",path:"/",component:function(){var e=q();return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(b.a,{className:e.title,align:"center",children:"WELCOME TO CHATBOT WARS"}),Object(u.jsxs)("div",{className:e.container,children:[Object(u.jsx)(b.a,{variant:"h6",children:"Build your own chatbot. Watch it crash and burn."}),Object(u.jsx)(C.a,{className:e.button,size:"large",variant:"contained",color:"secondary",component:D.b,to:"/workshop",children:"Get Started"})]})]})},exact:!0,icon:se.a},"/workshop":{name:"Workshop",path:"/workshop",component:function(e){var t=e.routes,n=Object(l.j)().path;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsx)(l.d,{children:t.map((function(e,t){return e.auth?Object(u.jsx)(Ke,{exact:!0,path:"".concat(n).concat(e.path),children:Object(u.jsx)(e.component,{})},t):Object(u.jsx)(l.b,{exact:!0,path:"".concat(n).concat(e.path),children:Object(u.jsx)(e.component,{})},t)}))})})},icon:ie.a,routes:[{path:"/",component:function(){var e=ze();return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(b.a,{className:e.title,align:"center",children:"WELCOME TO THE WORKSHOP"}),Object(u.jsxs)("div",{className:e.container,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(b.a,{className:e.directionText,align:"center",children:"Start off by creating a bot"}),Object(u.jsx)(C.a,{className:e.button,component:D.b,to:"/workshop/create",size:"large",variant:"contained",color:"secondary",children:"Create"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)(b.a,{className:e.directionText,align:"center",children:"Or keep working on existing ones"}),Object(u.jsx)(C.a,{className:e.button,component:D.b,to:"/workshop/edit",size:"large",variant:"contained",color:"secondary",children:"Edit"})]})]})]})},auth:!1},{path:"/create",component:function(){var e=Ce(),t=Object(a.useState)(0),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(new Set),l=Object(f.a)(i,2),j=l[0],h=l[1],x=function(){return j.size===Q.length},O=function(e){return function(){j.has(e)&&o(e)}},g=function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Set(j),e.next=3,Q[c].validate();case 3:if(e.sent){e.next=8;break}return t.delete(c),h(t),e.abrupt("return");case 8:t.add(c),h(t),j.size!==Q.length&&o(c+1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function v(e){return j.has(e)}var y=Object(a.useState)(null),w=Object(f.a)(y,2),k=w[0],N=w[1],S=Object(a.useState)(""),T=Object(f.a)(S,2),B=T[0],F=T[1],W=Object(a.useState)([{text:"",mood:0}]),M=Object(f.a)(W,2),A=M[0],E=M[1],z=Object(a.useState)([{text:"",mood:0},{text:"",mood:0}]),G=Object(f.a)(z,2),H=G[0],I=G[1],R=Object(a.useState)([{text:"",mood:0},{text:"",mood:0}]),q=Object(f.a)(R,2),P=q[0],V=q[1],Q=[{title:"Name",component:ge,value:B,handler:F},{title:"Greetings",component:pe,value:A,handler:E},{title:"Questions",component:ye,value:H,handler:I},{title:"Responses",component:ke,value:P,handler:V},{title:"Finalize",component:be,value:B,handler:null,validate:function(){return!0}}],U=function(){var e=Object(m.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:B,greetings:A,questions:H,responses:P},console.log(t),e.next=4,L.post("/bots",t);case 4:n=e.sent,N(n.data.id),console.log(JSON.stringify(n.data));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:e.root,children:[!x()&&Object(u.jsx)(de.a,{alternativeLabel:!0,nonLinear:!0,activeStep:c,children:Q.map((function(e,t){return Object(u.jsx)(ue.a,Object(s.a)(Object(s.a)({active:c===t},{}),{},{children:Object(u.jsx)(je.a,Object(s.a)(Object(s.a)({disabled:c!==t&&!v(t),onClick:O(t),completed:c!==t&&v(t)},{}),{},{children:e.title}))}),e.title)}))}),Object(u.jsx)(d.a,{container:!0,direction:"row",spacing:3,className:e.stepContainer,children:x()?Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h4",children:"Bot created successfully!"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(C.a,{to:"/workshop/edit/".concat(k),component:D.b,variant:"contained",color:"secondary",children:"See it in the workshop"})})]}):Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{container:!0,spacing:3,item:!0,xs:12,className:e.stepContent,children:r.a.createElement(Q[c].component,{value:Q[c].value,updateHandler:Q[c].handler,setValidator:function(e){return Q[c].validate=e},titleStyle:{padding:"30px 0px"}})}),Object(u.jsxs)(d.a,{item:!0,xs:12,className:e.stepButton,children:[Object(u.jsx)(C.a,{disabled:0===c,onClick:function(){o(c-1)},size:"large",variant:"contained",color:"secondary",children:"Back"}),c!==Q.length-1?Object(u.jsx)(C.a,{onClick:g,size:"large",variant:"contained",color:"secondary",children:"Next"}):Object(u.jsx)(C.a,{onClick:function(){U(),g()},size:"large",variant:"contained",color:"secondary",children:"To Glory"})]})]})})]})},auth:!0},{path:"/edit",component:function(){var e=Ee(),t=Object(l.g)(),n=Object(a.useState)(!0),c=Object(f.a)(n,2),o=c[0],s=c[1],i=Object(a.useState)([]),j=Object(f.a)(i,2),h=j[0],x=j[1],O=Object(a.useCallback)(Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("/users/bots");case 2:t=e.sent,x(t.data),s(!1);case 5:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){O()}),[O]);var v=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.delete("/bots/".concat(t));case 2:O();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(d.a,{container:!0,className:e.container,children:o?Object(u.jsx)(d.a,{item:!0,xs:12,className:e.loading,children:Object(u.jsx)(Ne.a,{color:"secondary"})}):Object(u.jsx)(d.a,{container:!0,item:!0,xs:12,className:e.botsContainer,children:h.length>0?Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{variant:"h5",align:"center",children:"Select a bot to edit"})}),Object(u.jsx)(d.a,{item:!0,xs:12,className:e.tableContainer,children:Object(u.jsx)(Se.a,{component:g.a,children:Object(u.jsxs)(Te.a,{stickyHeader:!0,children:[Object(u.jsxs)("colgroup",{children:[Object(u.jsx)("col",{style:{width:"80%"}}),Object(u.jsx)("col",{style:{width:"20%"}})]}),Object(u.jsx)(Be.a,{children:Object(u.jsxs)(Fe.a,{children:[Object(u.jsx)(We.a,{children:"Name"}),Object(u.jsx)(We.a,{align:"center",children:"Delete"})]})}),Object(u.jsx)(Me.a,{children:h.map((function(n,a){return Object(u.jsxs)(Fe.a,{hover:!0,children:[Object(u.jsx)(We.a,{className:e.selectBot,onClick:function(){var e;e=n.id,t.push("/workshop/edit/".concat(e))},align:"left",children:n.name}),Object(u.jsx)(We.a,{align:"center",children:Object(u.jsx)(re,{render:function(t){return Object(u.jsx)(_.a,{onClick:t,className:e.delete,children:Object(u.jsx)(Ae.a,{})})},onConfirm:function(){return v(n.id)},prompt:"Are you sure you want to delete this bot?",confirmText:"Delete",color:"red",hoverColor:"darkred"})})]},a)}))})]})})})]}):Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(d.a,{item:!0,xs:12,className:e.noBots,children:Object(u.jsx)(b.a,{variant:"h4",align:"center",children:"You haven't created any bots"})}),Object(u.jsx)(d.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(u.jsx)(C.a,{component:D.b,to:"/workshop/create",variant:"contained",color:"secondary",children:"Create a bot"})})]})})})},auth:!0},{path:"/edit/:id",component:function(){var e=De(),t=Object(l.i)().id,n=Object(a.useState)(!0),c=Object(f.a)(n,2),o=c[0],i=c[1],j=r.a.useState(0),h=Object(f.a)(j,2),x=h[0],O=h[1],g=Object(a.useState)({}),y=Object(f.a)(g,2),w=y[0],k=y[1],S=Object(a.useState)(""),F=Object(f.a)(S,2),W=F[0],M=F[1],A=Object(a.useState)([]),E=Object(f.a)(A,2),z=E[0],G=E[1],H=Object(a.useState)(!1),I=Object(f.a)(H,2),R=I[0],D=I[1],q=Object(a.useState)(""),P=Object(f.a)(q,2),V=P[0],U=P[1],_=function(){var e=Object(m.a)(p.a.mark((function e(){var t,n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n=w.greetings.length>=1,a=w.questions.length>=2,r=w.responses.length>=2,qe(W)||(U("Name must be between 3 and 30 characters"),t.push("Name must be between 3 and 30 characters")),n||t.push("Must have at least 1 greeting"),a||t.push("Must have at least 2 questions"),r||t.push("Must have at least 2 responses"),qe(W)&&n&&a&&r){e.next=12;break}return G(t),D(!0),e.abrupt("return");case 12:if(w.name===W){e.next=25;break}return e.prev=13,e.next=16,L.get("/unique/bots/".concat(W));case 16:e.sent.data.valid?(U(""),ee()):U("That bot name is taken"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(13),console.error(e.t0);case 23:e.next=26;break;case 25:U("That's the same name!");case 26:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(){return e.apply(this,arguments)}}(),J=Object(a.useState)(!1),Z=Object(f.a)(J,2),K=Z[0],Y=Z[1],X=Oe(W,400);Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe(t)){e.next=3;break}return U(""),e.abrupt("return");case 3:return e.prev=3,e.next=6,L.get("/unique/bots/".concat(t));case 6:e.sent.data.valid||t!==X||t===w.name?U(""):U("That bot name is taken"),Y(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(X)}),[X,w.name]);var $=Object(a.useCallback)(Object(m.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("/bots/".concat(t));case 2:n=e.sent,k(n.data),M(n.data.name),i(!1);case 6:case"end":return e.stop()}}),e)}))),[t]),ee=function(){var e=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.put("/bots/".concat(t),Object(s.a)(Object(s.a)({},w),{},{name:W}));case 2:$();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){$()}),[$]);var te=K&&0===V.length&&qe(W)&&W!==w.name;return Object(u.jsxs)(r.a.Fragment,{children:[o?Object(u.jsx)(d.a,{container:!0,style:{flexGrow:1},children:Object(u.jsx)(d.a,{item:!0,xs:12,className:e.loading,children:Object(u.jsx)(Ne.a,{color:"secondary"})})}):Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(b.a,{className:e.name,children:w.name}),Object(u.jsx)(Q.a,{position:"static",children:Object(u.jsxs)(Ge.a,{value:x,onChange:function(e,t){O(t)},variant:"fullWidth",children:[Object(u.jsx)(He.a,{label:"General"}),Object(u.jsx)(He.a,{label:"Greetings"}),Object(u.jsx)(He.a,{label:"Questions"}),Object(u.jsx)(He.a,{label:"Responses"})]})}),Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsxs)(Pe,{value:x,index:0,className:e.general,children:[Object(u.jsx)(d.a,{container:!0,spacing:3,item:!0,xs:12,className:e.generalContainer,children:Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(v.a,{fullWidth:!0,children:Object(u.jsx)(he.a,{autoFocus:!0,className:te?e.valid:null,error:V.length>0,helperText:te?"Valid bot name":V,label:"Name",variant:"outlined",value:W,onChange:function(e){M(e.target.value),U(""),Y(!1)}})})})}),R&&Object(u.jsx)(d.a,{item:!0,xs:12,className:e.errorList,children:Object(u.jsx)(N.a,{subheader:"Please fix the following errors",children:z.map((function(t,n){return Object(u.jsx)(T.a,{children:Object(u.jsx)(B.a,{primary:t,className:e.errorList})},n)}))})}),Object(u.jsx)(d.a,{item:!0,xs:12,className:e.generalSave,children:Object(u.jsx)(C.a,{onClick:_,fullWidth:!0,size:"large",variant:"contained",color:"secondary",children:"Save"})})]}),Object(u.jsx)(Pe,{value:x,index:1,children:Object(u.jsx)(Re,{botID:w.id,lineType:"greetings",lines:w.greetings,min:1,refresh:$})}),Object(u.jsx)(Pe,{value:x,index:2,children:Object(u.jsx)(Re,{botID:w.id,lineType:"questions",lines:w.questions,min:2,refresh:$})}),Object(u.jsx)(Pe,{value:x,index:3,children:Object(u.jsx)(Re,{botID:w.id,lineType:"responses",lines:w.responses,min:2,refresh:$})})]})]})," "]})},auth:!0}]},"/fight":{name:"Fight",path:"/fight",component:function(){var e=R();return Object(u.jsxs)(d.a,{container:!0,className:e.container,children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{className:e.title,align:"center",children:"WELCOME TO THE DEATH ZONE"})}),Object(u.jsx)(d.a,{item:!0,xs:12,className:e.fightZone,children:Object(u.jsx)(I,{})})]})},icon:le.a},"/login":{name:"Login",path:"/login",component:function(){var e=Ue(),t=$().login,n=Object(l.g)(),c=Object(l.h)(),o=Object(a.useState)({username:"",password:""}),i=Object(f.a)(o,2),j=i[0],h=i[1],x=Object(a.useState)({username:"",password:""}),O=Object(f.a)(x,2),v=O[0],y=O[1],w=Object(a.useState)(!1),k=Object(f.a)(w,2),N=k[0],S=k[1],T=function(){var e=Object(m.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={username:"",password:""},n=!0,0===j.username.length&&(t.username="Username must not be empty",n=!1),0===j.password.length&&(t.password="Password must not be empty",n=!1),n&&F(),y((function(){return t}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=(c.state||{from:{pathname:"/"}}).from;function F(){return W.apply(this,arguments)}function W(){return(W=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(j.username,j.password);case 3:n.replace(B),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),S(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)(d.a,{container:!0,direction:"row",style:{margin:0},children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{className:e.title,align:"center",children:"Login to edit your bots"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)(d.a,{container:!0,spacing:4,component:g.a,className:e.formContainer,elevation:6,children:[N&&Object(u.jsx)(d.a,{item:!0,xs:12,className:e.failed,children:Object(u.jsx)(b.a,{align:"center",children:"Invalid username or password"})}),Object(u.jsxs)(d.a,{item:!0,xs:12,style:{display:"flex"},children:[Object(u.jsx)(Ve.a,{className:e.icon,color:"action"}),Object(u.jsx)(he.a,{error:0===j.username.length&&v.username.length>0,helperText:0===j.username.length?v.username:"",onChange:function(e){return h(Object(s.a)(Object(s.a)({},j),{},{username:e.target.value}))},label:"Username",variant:"outlined",style:{flexGrow:1}})]}),Object(u.jsxs)(d.a,{item:!0,xs:12,style:{display:"flex"},children:[Object(u.jsx)(Qe.a,{className:e.icon,color:"action"}),Object(u.jsx)(he.a,{error:0===j.password.length&&v.password.length>0,helperText:0===j.password.length?v.password:"",onChange:function(e){return h(Object(s.a)(Object(s.a)({},j),{},{password:e.target.value}))},type:"password",label:"Password",variant:"outlined",style:{flexGrow:1}})]}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(C.a,{onClick:T,fullWidth:!0,variant:"contained",color:"secondary",style:{},children:"Log In"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)("p",{className:e.bottomText,children:["Not registered? ",Object(u.jsx)(D.b,{to:"/register",className:e.link,children:"Click here to create an account"})]})})]})})]})})},noAuth:!0},"/register":{name:"Register",path:"/register",component:function(){var e=_e(),t=$(),n=t.register,c=t.login,o=Object(l.g)(),i=Object(l.h)(),j=Object(a.useState)({firstName:"",lastName:"",username:"",password:""}),h=Object(f.a)(j,2),x=h[0],O=h[1],v=Object(a.useState)({firstName:"",lastName:"",username:"",password:""}),y=Object(f.a)(v,2),w=y[0],k=y[1],N=Object(a.useState)(!1),S=Object(f.a)(N,2),T=S[0],B=S[1],F=Oe(x.username,400);Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,L.get("/unique/users/".concat(t));case 5:e.sent.data.valid||t!==F?k((function(e){return Object(s.a)(Object(s.a)({},e),{},{username:""})})):k((function(e){return Object(s.a)(Object(s.a)({},e),{},{username:"That username is taken"})})),B(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(F)}),[F]);var W=(i.state||{from:{pathname:"/"}}).from;function M(){return(M=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(x);case 3:return e.next=5,c(x.username,x.password);case 5:o.replace(W),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)(d.a,{container:!0,direction:"row",style:{margin:0},children:[Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(b.a,{className:e.title,align:"center",children:"Register to create your own bots"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)(d.a,{container:!0,spacing:4,component:g.a,className:e.formContainer,elevation:6,children:[Object(u.jsxs)(d.a,{item:!0,xs:12,className:e.formRow,children:[Object(u.jsx)(he.a,{error:0===x.firstName.length&&w.firstName.length>0,helperText:0===x.firstName.length?w.firstName:"",onChange:function(e){return O(Object(s.a)(Object(s.a)({},x),{},{firstName:e.target.value}))},label:"First Name",variant:"outlined"}),Object(u.jsx)(he.a,{error:0===x.lastName.length&&w.lastName.length>0,helperText:0===x.lastName.length?w.lastName:"",onChange:function(e){return O(Object(s.a)(Object(s.a)({},x),{},{lastName:e.target.value}))},label:"Last Name",variant:"outlined"})]}),Object(u.jsxs)(d.a,{item:!0,xs:12,className:e.formRow,children:[Object(u.jsx)(he.a,{className:0===w.username.length&&x.username.length>0&&T?e.valid:null,error:w.username.length>0,helperText:0===w.username.length&&0!==x.username.length&&T?"Valid username":w.username,onChange:function(e){O(Object(s.a)(Object(s.a)({},x),{},{username:e.target.value})),k(Object(s.a)(Object(s.a)({},w),{},{username:""})),B(!1)},label:"Username",variant:"outlined"}),Object(u.jsx)(he.a,{error:0===x.password.length&&w.password.length>0,helperText:0===x.password.length?w.password:"",onChange:function(e){return O(Object(s.a)(Object(s.a)({},x),{},{password:e.target.value}))},type:"password",label:"Password",variant:"outlined"})]}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(C.a,{onClick:function(){var e={firstName:"",lastName:"",username:w.username,password:""},t=!0;0===x.firstName.length&&(e.firstName="First name must not be empty",t=!1),0===x.lastName.length&&(e.lastName="Last name must not be empty",t=!1),0===x.username.length&&(e.username="Username must not be empty",t=!1),0===x.password.length&&(e.password="Password must not be empty",t=!1),t&&function(){M.apply(this,arguments)}(),k((function(){return e}))},fullWidth:!0,variant:"contained",color:"secondary",children:"Register"})}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsxs)("p",{className:e.bottomText,children:["Already a user? ",Object(u.jsx)(D.b,{to:"/login",className:e.link,children:"Click here to login"})]})})]})})]})})},noAuth:!0}};function Ze(){return Object(u.jsx)(D.a,{children:Object(u.jsx)(oe,{routes:Je,children:Object(u.jsxs)(l.d,{children:[Object.values(Je).map((function(e,t){return e.auth?Object(u.jsx)(Ke,{exact:e.exact||!1,path:e.path,children:Object(u.jsx)(e.component,{routes:e.routes})},t):e.noAuth?Object(u.jsx)(Ye,{exact:e.exact||!1,path:e.path,children:Object(u.jsx)(e.component,{routes:e.routes})},t):Object(u.jsx)(l.b,{exact:e.exact||!1,path:e.path,children:Object(u.jsx)(e.component,{routes:e.routes})},t)})),Object(u.jsx)(l.b,{path:"*",render:function(e){var t=e.location;return Object(u.jsx)(l.a,{to:{pathname:"/",state:{from:t}}})}})]})})})}function Ke(e){var t=e.children,n=Object(i.a)(e,["children"]),a=$().user;return Object(u.jsx)(l.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(u.jsx)(l.a,{to:{pathname:"/login",state:{from:n}}})}}))}function Ye(e){var t=e.children,n=Object(i.a)(e,["children"]),a=$().user;return Object(u.jsx)(l.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){e.location;return a?Object(u.jsx)(l.a,{to:{pathname:"/"}}):t}}))}var Xe=n(230),$e=n(227),et=n(228),tt=n(229),nt=Object($e.a)({palette:{primary:{light:et.a[300],main:et.a[600],dark:et.a[900],contrastText:"#fff"},secondary:{light:tt.a[500],main:tt.a[600],dark:tt.a[800],contrastText:"#000"}},layout:{nav:{appBarHeight:64}}});function at(){return Object(u.jsx)(X,{children:Object(u.jsx)(Xe.a,{theme:nt,children:Object(u.jsx)(Ze,{})})})}o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(at,{})}),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.aa25d400.chunk.js.map